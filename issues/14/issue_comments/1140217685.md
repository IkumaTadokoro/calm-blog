---
author_association: OWNER
created_at: '2022-05-28T09:05:37Z'
html_url: https://github.com/IkumaTadokoro/diary/issues/14#issuecomment-1140217685
id: 1140217685
issue_url: https://api.github.com/repos/IkumaTadokoro/diary/issues/14
node_id: IC_kwDOHWTPVs5D9ldV
performed_via_github_app: 
reactions:
  "+1": 0
  "-1": 0
  confused: 0
  eyes: 0
  heart: 0
  hooray: 0
  laugh: 0
  rocket: 0
  total_count: 0
  url: https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1140217685/reactions
updated_at: '2022-05-28T09:05:37Z'
url: https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1140217685
user:
  avatar_url: https://avatars.githubusercontent.com/u/61409641?v=4
  events_url: https://api.github.com/users/IkumaTadokoro/events{/privacy}
  followers_url: https://api.github.com/users/IkumaTadokoro/followers
  following_url: https://api.github.com/users/IkumaTadokoro/following{/other_user}
  gists_url: https://api.github.com/users/IkumaTadokoro/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/IkumaTadokoro
  id: 61409641
  login: IkumaTadokoro
  node_id: MDQ6VXNlcjYxNDA5NjQx
  organizations_url: https://api.github.com/users/IkumaTadokoro/orgs
  received_events_url: https://api.github.com/users/IkumaTadokoro/received_events
  repos_url: https://api.github.com/users/IkumaTadokoro/repos
  site_admin: false
  starred_url: https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/IkumaTadokoro/subscriptions
  type: User
  url: https://api.github.com/users/IkumaTadokoro

---
## 問題 & 回答

[type\-challenges/README\.ja\.md at main · type\-challenges/type\-challenges](https://github.com/type-challenges/type-challenges/blob/main/questions/00004-easy-pick/README.ja.md)

- `Pick<T, K>`：Utility Typesの一つ。既に存在する`T`型の中から`K`で選択した一部のプロパティのみを含んだ新たな方を構築する。
- これを独自に実装すると次のような形式になる

```typescript
type MyPick<T, K extends keyof T> = { [S in K]: T[S] }
```

## 調べたこと
### ルックアップ型

`定義済みの型["キー"]`とすることで、指定したキーに対応する型を取り出すことができる。

```typescript
type Todo = {
  id: number
  title: string
  comment: string
}

// キー`id`の型`number`を取得する
type Id = Todo['id']

const id: Id = '1' // TS2322: Type 'string' is not assignable to type 'number'.
```

### `keyof`演算子

オブジェクトの全てのキーを、文字列リテラル型のUnion型として取得する。

```typescript
type Todo = {
  id: number
  title: string
  comment: string
}

type TodoKeys = keyof Todo // type TodoKeys = "id" | "title" | "comment"
```

###  マップ型（`mapped type`）

オブジェクトのキーの型と値の型をマッピングするための方法。
どの値の型がどのキーの名前に対応するかを制約できる

```typescript
// P：Parameter（引数型）
// K：Constraint（制約型）
// T：Template（テンプレート型）
{  [P in K]: T}
```

ここまでの内容を踏まえると次のようになる。

```typescript
interface Todo {
  title: string
  description: string
  completed: boolean
}

type MyPick<T, K extends keyof T> = { [S in K]: T[S] }

// { 'title': string, 'completed': boolean }
// keyofを使用しているので、`contents`とかTodoにないキーを指定するとエラーになる
type TodoPreview = MyPick<Todo, 'title' | 'completed'>

const todo: TodoPreview = {
    title: 'Clean room',
    completed: false,
}
```