---
author_association: OWNER
created_at: '2022-08-20T13:17:46Z'
html_url: https://github.com/IkumaTadokoro/diary/issues/68#issuecomment-1221313509
id: 1221313509
issue_url: https://api.github.com/repos/IkumaTadokoro/diary/issues/68
node_id: IC_kwDOHWTPVs5Iy8Pl
performed_via_github_app: 
reactions:
  "+1": 0
  "-1": 0
  confused: 0
  eyes: 0
  heart: 0
  hooray: 0
  laugh: 0
  rocket: 0
  total_count: 0
  url: https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1221313509/reactions
updated_at: '2022-08-20T13:17:46Z'
url: https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1221313509
user:
  avatar_url: https://avatars.githubusercontent.com/u/61409641?v=4
  events_url: https://api.github.com/users/IkumaTadokoro/events{/privacy}
  followers_url: https://api.github.com/users/IkumaTadokoro/followers
  following_url: https://api.github.com/users/IkumaTadokoro/following{/other_user}
  gists_url: https://api.github.com/users/IkumaTadokoro/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/IkumaTadokoro
  id: 61409641
  login: IkumaTadokoro
  node_id: MDQ6VXNlcjYxNDA5NjQx
  organizations_url: https://api.github.com/users/IkumaTadokoro/orgs
  received_events_url: https://api.github.com/users/IkumaTadokoro/received_events
  repos_url: https://api.github.com/users/IkumaTadokoro/repos
  site_admin: false
  starred_url: https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/IkumaTadokoro/subscriptions
  type: User
  url: https://api.github.com/users/IkumaTadokoro

---
ここからPointerか。今日中には終わらせるけど、じっくりやっていくぞ。

> Goはポインタを扱います。ポインタは値のメモリアドレスを指します。

なんとなくわかるけど、なんのために使うのかわかっていない。

変数`T`のポインタは、`*T`型で、ゼロ値は`nil`である。あれ、そういや`null`じゃなくて`nil`なんだな。

```go
var p *int
```

`&`オペレータでそのオペランドへのポインタを引き出す。

```go
i := 42
p = &i
```

`*`オペレータは、ポインタの指す先の変数を示す。

```go
i := 42
p = &i
fmt.Println(*p)
```

これを"dereferencing"または"indirecting"と呼ぶそうな。確かにそんな感じはする。

```go
// 構造体
type Hoge struct {
    X int
    Y int
}

func main() {
    hoge := Hoge{1, 2}
    fmt.Println(hoge.X)
    hoge.X = 4
    fmt.Println(hoge.X)
}
```

```go
type Vertex struct {
    X, Y int 
} 

var (
    v1 = Vertex{X: 1} // これがName構文で、フィールドの一部だけを指定することができる
)
```

[n]T型は、型Tのn個の変数の配列を表す。

```go
var array [2]string // 要素数2この配列
```

配列の要素数を変えることはできない。配列は固定長だが、スライスは可変長。型[]Tは型Tのスライス

```go
var slice []int // int型のスライス
primes := [4]int{2, 3, 5, 7}
s = primes[0:2]
```

スライスはスライスという独自なものではなくて、配列の部分列。スライスの要素を変更すると、元となる配列が変更される。
スライスはコロンで区切られたインデックスによって元の配列の部分を指定する。半開区間なので、上限の方は含まない。

スライスする時の下限と上限をそれぞれ省略した場合には、デフォルトの値が採用される。下限は配列の最初で、上限は配列の最後。

スライスには長さと容量の2つの属性がある。長さはスライス自体の長さで、容量はスライスの最初の要素から数えて元となる配列の要素数

スライスのゼロ値はnil。

組み込みの`make`関数を使ってスライスを作成する。

```go
package main

import "fmt"

func main() {
    // ゼロ化された配列を割り当て、その配列を指すスライスを返す
    a := make([]int, 5)

    // ゼロ化された配列を割り当て、その配列かつ指定した容量のスライスを返す
    b := make([]int, 0, 5)
}
```

rangeはforループに利用し、スライスやマップを一つずつ反復処理するために使用する。

```go
import "fmt"

var pow = []int{1, 2, 4, 8, 16, 32, 64, 128}

func main() {
    // indexとvalueを返している
    for i, v := range pow {
        fmt.Printf("3**%d = %d\n", i, v)
    }
}
```

必要ない値は`_`で捨てることができる。


とりあえずBasicまでは終わった...。
