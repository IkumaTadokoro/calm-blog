<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-06-19</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/9ba8843f2bcaaa09.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/9ba8843f2bcaaa09.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/f43dd8df72df9f95.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/f43dd8df72df9f95.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-a912e852724a63a5.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/UJHdmq_s4P_0YfOHQj8pX/_buildManifest.js" defer=""></script><script src="/diary/_next/static/UJHdmq_s4P_0YfOHQj8pX/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/UJHdmq_s4P_0YfOHQj8pX/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-19T05:19:02Z" title="2022-06-19T05:19:02Z">2022-06-19 05:06:00</time><h1 class="font-bold text-slate-600">2022-06-19</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/37">#37</a>.<!-- --></p></aside><div></div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-19T06:58:18Z" title="2022-06-19T06:58:18Z">2022-06-19 06:06:00</time></header><div><p><code>* タスク名</code>で完了できないタスクを作成できる in Todoist</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-19T11:33:31Z" title="2022-06-19T11:33:31Z">2022-06-19 11:06:00</time></header><div><h2 id="vue2%E7%B3%BB%E3%81%A7%E3%81%AEv-model"><a class="header-anchor-link" href="#vue2%E7%B3%BB%E3%81%A7%E3%81%AEv-model" aria-hidden="true" rel="nofollow"></a> Vue2系でのv-model</h2>
<h3 id="%E7%92%B0%E5%A2%83%E4%BD%9C%E6%88%90"><a class="header-anchor-link" href="#%E7%92%B0%E5%A2%83%E4%BD%9C%E6%88%90" aria-hidden="true" rel="nofollow"></a> 環境作成</h3>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">$ npx vue create v-model-dos

? Please pick a preset:
  Default <span class="token punctuation">(</span><span class="token punctuation">[</span>Vue <span class="token number">3</span><span class="token punctuation">]</span> babel, eslint<span class="token punctuation">)</span>
❯ Default <span class="token punctuation">(</span><span class="token punctuation">[</span>Vue <span class="token number">2</span><span class="token punctuation">]</span> babel, eslint<span class="token punctuation">)</span>
  Manually <span class="token keyword">select</span> features
</code></pre></div><h3 id="v-model%E3%81%A8%E3%81%AF"><a class="header-anchor-link" href="#v-model%E3%81%A8%E3%81%AF" aria-hidden="true" rel="nofollow"></a> v-modelとは</h3>
<h3 id="v-model%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B"><a class="header-anchor-link" href="#v-model%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B" aria-hidden="true" rel="nofollow"></a> v-modelをシンプルに使用する</h3>
<h3 id="v-model%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B"><a class="header-anchor-link" href="#v-model%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B" aria-hidden="true" rel="nofollow"></a> v-modelをカスタムコンポーネントで使用する</h3>
<h4 id="%E6%A7%8B%E9%80%A0"><a class="header-anchor-link" href="#%E6%A7%8B%E9%80%A0" aria-hidden="true" rel="nofollow"></a> 構造</h4>
<h4 id="%E6%96%B9%E6%B3%951%EF%BC%9Avalue%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8A%E3%80%81input%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%81%A7%E8%A6%AA%E3%81%AEinput%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%B8%A1%E3%81%99"><a class="header-anchor-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9Avalue%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8A%E3%80%81input%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%81%A7%E8%A6%AA%E3%81%AEinput%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%B8%A1%E3%81%99" aria-hidden="true" rel="nofollow"></a> 方法1：valueを受け取り、inputイベントで親のinputにデータを渡す</h4>
<h4 id="%E6%96%B9%E6%B3%951-%CE%B1%EF%BC%9A%E4%BD%BF%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E5%90%8D%E3%81%A8%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%80%82"><a class="header-anchor-link" href="#%E6%96%B9%E6%B3%951-%CE%B1%EF%BC%9A%E4%BD%BF%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E5%90%8D%E3%81%A8%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%80%82" aria-hidden="true" rel="nofollow"></a> 方法1-α：使用されるプロパティ名とイベントを変更する。</h4>
<h4 id="%E6%96%B9%E6%B3%952%EF%BC%9A%E5%8F%8C%E6%96%B9%E5%90%91%E7%AE%97%E5%87%BA%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B"><a class="header-anchor-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9A%E5%8F%8C%E6%96%B9%E5%90%91%E7%AE%97%E5%87%BA%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B" aria-hidden="true" rel="nofollow"></a> 方法2：双方向算出プロパティを利用する</h4>
<p>なぜ<code>props</code>で受け取っている<code>value</code>をそのままカスタムコンポーネント（子）の<code>v-model</code>で指定してしまうと、Vue側から「親の値を直接変更すると、再レンダリングのたびに値が上書きされる」といった警告が出てしまう。</p>
<p>そのため親からもらってきた値を変更するには、そのコンポーネント内で保持している変数として一度格納するか（例えば<code>mounted</code>のタイミングで、<code>data</code>に定義してある変数に格納）、後述の算出プロパティを用いる。リアクティブな値を利用してその変更に追随した処理を書くには算出プロパティがスッキリしている。</p>
<p>算出プロパティ<code>computed</code>はプロパティ名のみを指定した場合、getter関数として定義される。リアクティブな値Aに対して、なんらかの処理を定義する事で、Aが変更されるのと同時にgetterで取得できる値も変更される。</p>
<p>算出プロパティは明示することで、setterとしても利用することができる。</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html">computed: {
  fullName: {
    get() {
      return `${this.firstName} ${this.lastName}`}
    },
    set(newValue) {
      const [newFirstName, newLastName] = newValue.split(' ')
      this.firstName = newFirstName
      this.lastName = new LastName
    }
  }
}
</code></pre></div><p>この仕組みを利用して、v-modelの値を定義する。</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ label }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>innerValue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyInputOptions'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">require</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">require</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">innerValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre></div><p>カスタムコンポーネント側では、v-modelにinnerValueを指定している。これはv-modelの定義に基づいて解釈すると、次のように分解できる。</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>innerValue<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>innerValue = $event.target.value<span class="token punctuation">"</span></span><span class="token attr-name">)</span><span class="token punctuation">></span></span>
</code></pre></div><p>値が表示される時には、<code>innerValue</code>の値、すなわち親コンポーネントで<code>props</code>に渡している<code>value</code>の値が表示される。</p>
<p>一方値を入力する際には、setterが働いて親コンポーネントの<code>input</code>イベントが、<code>newValue</code>つまり<code>$event.target.value</code>とともに発火される。これで親が保持しているv-modelのvalueの値が更新されると同時に<code>innerValue</code>の値も更新され、データの同期が完了する。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-19T11:54:52Z" title="2022-06-19T11:54:52Z">2022-06-19 11:06:00</time></header><div><p>Vue2系では<code>&lt;script setup&gt;</code>構文が使用できない。基本的に<code>setup</code>を使用する形式になる。</p>
<p><code>defineProps</code>も<code>defineEmits</code>も<code>script setup</code>で使用できるコンパイラマクロなので同様に使用できない。</p>
<p>script setup 構文が恋しい..,.</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37/comments","created_at":"2022-06-19T05:19:02Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/37","id":1275957018,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5MDY8a","number":37,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37/timeline","title":"2022-06-19","updated_at":"2022-06-19T05:19:02Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"`* タスク名`で完了できないタスクを作成できる in Todoist\n","bodyHTML":"\u003cp\u003e\u003ccode\u003e* タスク名\u003c/code\u003eで完了できないタスクを作成できる in Todoist\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-19T06:58:18Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/37#issuecomment-1159633110","id":1159633110,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37","node_id":"IC_kwDOHWTPVs5FHpjW","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159633110/reactions"},"updated_at":"2022-06-19T06:58:18Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159633110","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"## Vue2系でのv-model\n\n### 環境作成\n\n```bash\n$ npx vue create v-model-dos\n\n? Please pick a preset:\n  Default ([Vue 3] babel, eslint)\n❯ Default ([Vue 2] babel, eslint)\n  Manually select features\n```\n\n### v-modelとは\n\n### v-modelをシンプルに使用する\n\n\n### v-modelをカスタムコンポーネントで使用する\n\n#### 構造\n\n\n\n#### 方法1：valueを受け取り、inputイベントで親のinputにデータを渡す\n\n#### 方法1-α：使用されるプロパティ名とイベントを変更する。\n\n\n#### 方法2：双方向算出プロパティを利用する\n\nなぜ`props`で受け取っている`value`をそのままカスタムコンポーネント（子）の`v-model`で指定してしまうと、Vue側から「親の値を直接変更すると、再レンダリングのたびに値が上書きされる」といった警告が出てしまう。\n\nそのため親からもらってきた値を変更するには、そのコンポーネント内で保持している変数として一度格納するか（例えば`mounted`のタイミングで、`data`に定義してある変数に格納）、後述の算出プロパティを用いる。リアクティブな値を利用してその変更に追随した処理を書くには算出プロパティがスッキリしている。\n\n算出プロパティ`computed`はプロパティ名のみを指定した場合、getter関数として定義される。リアクティブな値Aに対して、なんらかの処理を定義する事で、Aが変更されるのと同時にgetterで取得できる値も変更される。\n\n算出プロパティは明示することで、setterとしても利用することができる。\n\n```vue\ncomputed: {\n  fullName: {\n    get() {\n      return `${this.firstName} ${this.lastName}`}\n    },\n    set(newValue) {\n      const [newFirstName, newLastName] = newValue.split(' ')\n      this.firstName = newFirstName\n      this.lastName = new LastName\n    }\n  }\n}\n```\n\nこの仕組みを利用して、v-modelの値を定義する。\n\n\n```vue\n\u003ctemplate\u003e\n  \u003cdiv class=\"form\"\u003e\n    \u003clabel for=\"name\"\u003e{{ label }}\u003c/label\u003e\n    \u003cinput type=\"text\" name=\"name\" v-model=\"innerValue\"\u003e\n  \u003c/div\u003e\n\u003c/template\u003e\n\n\u003cscript\u003e\nexport default {\n  name: 'MyInputOptions',\n  props: {\n    label: {\n      require: true,\n      type: String\n    },\n    value: {\n      require: true,\n      type: String\n    }\n  },\n  computed: {\n    innerValue: {\n      get() {\n        return this.value\n      },\n      set(newValue) {\n        this.$emit('input', newValue)\n      }\n    }\n  }\n}\n\u003c/script\u003e\n```\n\nカスタムコンポーネント側では、v-modelにinnerValueを指定している。これはv-modelの定義に基づいて解釈すると、次のように分解できる。\n\n```vue\n\u003cinput type=\"text\" name=\"name\" :value=\"innerValue\" @input=\"innerValue = $event.target.value\")\u003e\n```\n\n値が表示される時には、`innerValue`の値、すなわち親コンポーネントで`props`に渡している`value`の値が表示される。\n\n一方値を入力する際には、setterが働いて親コンポーネントの`input`イベントが、`newValue`つまり`$event.target.value`とともに発火される。これで親が保持しているv-modelのvalueの値が更新されると同時に`innerValue`の値も更新され、データの同期が完了する。\n","bodyHTML":"\u003ch2 id=\"vue2%E7%B3%BB%E3%81%A7%E3%81%AEv-model\"\u003e\u003ca class=\"header-anchor-link\" href=\"#vue2%E7%B3%BB%E3%81%A7%E3%81%AEv-model\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e Vue2系でのv-model\u003c/h2\u003e\n\u003ch3 id=\"%E7%92%B0%E5%A2%83%E4%BD%9C%E6%88%90\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E7%92%B0%E5%A2%83%E4%BD%9C%E6%88%90\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 環境作成\u003c/h3\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ npx vue create v-model-dos\n\n? Please pick a preset:\n  Default \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eVue \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e babel, eslint\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n❯ Default \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eVue \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e babel, eslint\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  Manually \u003cspan class=\"token keyword\"\u003eselect\u003c/span\u003e features\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"v-model%E3%81%A8%E3%81%AF\"\u003e\u003ca class=\"header-anchor-link\" href=\"#v-model%E3%81%A8%E3%81%AF\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e v-modelとは\u003c/h3\u003e\n\u003ch3 id=\"v-model%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ca class=\"header-anchor-link\" href=\"#v-model%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e v-modelをシンプルに使用する\u003c/h3\u003e\n\u003ch3 id=\"v-model%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ca class=\"header-anchor-link\" href=\"#v-model%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e v-modelをカスタムコンポーネントで使用する\u003c/h3\u003e\n\u003ch4 id=\"%E6%A7%8B%E9%80%A0\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%A7%8B%E9%80%A0\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 構造\u003c/h4\u003e\n\u003ch4 id=\"%E6%96%B9%E6%B3%951%EF%BC%9Avalue%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8A%E3%80%81input%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%81%A7%E8%A6%AA%E3%81%AEinput%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%B8%A1%E3%81%99\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%96%B9%E6%B3%951%EF%BC%9Avalue%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8A%E3%80%81input%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%81%A7%E8%A6%AA%E3%81%AEinput%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%B8%A1%E3%81%99\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 方法1：valueを受け取り、inputイベントで親のinputにデータを渡す\u003c/h4\u003e\n\u003ch4 id=\"%E6%96%B9%E6%B3%951-%CE%B1%EF%BC%9A%E4%BD%BF%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E5%90%8D%E3%81%A8%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%80%82\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%96%B9%E6%B3%951-%CE%B1%EF%BC%9A%E4%BD%BF%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E5%90%8D%E3%81%A8%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%80%82\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 方法1-α：使用されるプロパティ名とイベントを変更する。\u003c/h4\u003e\n\u003ch4 id=\"%E6%96%B9%E6%B3%952%EF%BC%9A%E5%8F%8C%E6%96%B9%E5%90%91%E7%AE%97%E5%87%BA%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%96%B9%E6%B3%952%EF%BC%9A%E5%8F%8C%E6%96%B9%E5%90%91%E7%AE%97%E5%87%BA%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 方法2：双方向算出プロパティを利用する\u003c/h4\u003e\n\u003cp\u003eなぜ\u003ccode\u003eprops\u003c/code\u003eで受け取っている\u003ccode\u003evalue\u003c/code\u003eをそのままカスタムコンポーネント（子）の\u003ccode\u003ev-model\u003c/code\u003eで指定してしまうと、Vue側から「親の値を直接変更すると、再レンダリングのたびに値が上書きされる」といった警告が出てしまう。\u003c/p\u003e\n\u003cp\u003eそのため親からもらってきた値を変更するには、そのコンポーネント内で保持している変数として一度格納するか（例えば\u003ccode\u003emounted\u003c/code\u003eのタイミングで、\u003ccode\u003edata\u003c/code\u003eに定義してある変数に格納）、後述の算出プロパティを用いる。リアクティブな値を利用してその変更に追随した処理を書くには算出プロパティがスッキリしている。\u003c/p\u003e\n\u003cp\u003e算出プロパティ\u003ccode\u003ecomputed\u003c/code\u003eはプロパティ名のみを指定した場合、getter関数として定義される。リアクティブな値Aに対して、なんらかの処理を定義する事で、Aが変更されるのと同時にgetterで取得できる値も変更される。\u003c/p\u003e\n\u003cp\u003e算出プロパティは明示することで、setterとしても利用することができる。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003ecomputed: {\n  fullName: {\n    get() {\n      return `${this.firstName} ${this.lastName}`}\n    },\n    set(newValue) {\n      const [newFirstName, newLastName] = newValue.split(' ')\n      this.firstName = newFirstName\n      this.lastName = new LastName\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこの仕組みを利用して、v-modelの値を定義する。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eform\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003elabel\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003efor\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e{{ label }}\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003elabel\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003einput\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003etext\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ename\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ev-model\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003einnerValue\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token script\"\u003e\u003cspan class=\"token language-javascript\"\u003e\n\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'MyInputOptions'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003eprops\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003elabel\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003erequire\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e String\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003erequire\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003etype\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e String\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003ecomputed\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003einnerValue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evalue\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enewValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003e$emit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'input'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e newValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eカスタムコンポーネント側では、v-modelにinnerValueを指定している。これはv-modelの定義に基づいて解釈すると、次のように分解できる。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003einput\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003etext\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ename\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e:value\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003einnerValue\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e@input\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003einnerValue = $event.target.value\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token attr-name\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e値が表示される時には、\u003ccode\u003einnerValue\u003c/code\u003eの値、すなわち親コンポーネントで\u003ccode\u003eprops\u003c/code\u003eに渡している\u003ccode\u003evalue\u003c/code\u003eの値が表示される。\u003c/p\u003e\n\u003cp\u003e一方値を入力する際には、setterが働いて親コンポーネントの\u003ccode\u003einput\u003c/code\u003eイベントが、\u003ccode\u003enewValue\u003c/code\u003eつまり\u003ccode\u003e$event.target.value\u003c/code\u003eとともに発火される。これで親が保持しているv-modelのvalueの値が更新されると同時に\u003ccode\u003einnerValue\u003c/code\u003eの値も更新され、データの同期が完了する。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-19T11:33:31Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/37#issuecomment-1159697582","id":1159697582,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37","node_id":"IC_kwDOHWTPVs5FH5Su","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159697582/reactions"},"updated_at":"2022-06-19T11:33:31Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159697582","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"Vue2系では`\u003cscript setup\u003e`構文が使用できない。基本的に`setup`を使用する形式になる。\n\n`defineProps`も`defineEmits`も`script setup`で使用できるコンパイラマクロなので同様に使用できない。\n\nscript setup 構文が恋しい..,.\n","bodyHTML":"\u003cp\u003eVue2系では\u003ccode\u003e\u0026lt;script setup\u0026gt;\u003c/code\u003e構文が使用できない。基本的に\u003ccode\u003esetup\u003c/code\u003eを使用する形式になる。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edefineProps\u003c/code\u003eも\u003ccode\u003edefineEmits\u003c/code\u003eも\u003ccode\u003escript setup\u003c/code\u003eで使用できるコンパイラマクロなので同様に使用できない。\u003c/p\u003e\n\u003cp\u003escript setup 構文が恋しい..,.\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-19T11:54:52Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/37#issuecomment-1159703503","id":1159703503,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/37","node_id":"IC_kwDOHWTPVs5FH6vP","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159703503/reactions"},"updated_at":"2022-06-19T11:54:52Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1159703503","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"37"},"buildId":"UJHdmq_s4P_0YfOHQj8pX","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>