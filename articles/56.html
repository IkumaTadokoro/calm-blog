<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-07-14</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/66a1e99d6a64689a.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/66a1e99d6a64689a.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/fc9624fd4a486ef2.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/fc9624fd4a486ef2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-3e7804591c667a30.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/Ah9GTGsE4b3kpdYBdnt19/_buildManifest.js" defer=""></script><script src="/diary/_next/static/Ah9GTGsE4b3kpdYBdnt19/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/Ah9GTGsE4b3kpdYBdnt19/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-07-14T11:13:32Z" title="2022-07-14T11:13:32Z">2022-07-14 11:07:00</time><h1 class="font-bold text-slate-600">2022-07-14</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/56">#56</a>.<!-- --></p></aside><div></div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-07-14T11:13:45Z" title="2022-07-14T11:13:45Z">2022-07-14 11:07:00</time></header><div><p>短くても良いから進捗を出すのだ</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-07-14T11:57:21Z" title="2022-07-14T11:57:21Z">2022-07-14 11:07:00</time></header><div><p>Selenium実践入門を読んでいる</p>
<p>Chromeを動かすには</p>
<ul>
<li>Chrome</li>
<li>WebDriverのクライアントライブラリ</li>
<li>ChromeDriverサーバ: <a href="https://chromedriver.storage.googleapis.com/index.html" rel="nofollow">https://chromedriver.storage.googleapis.com/index.html</a></li>
</ul>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">lib/selenium/webdriver/common/service.rb:104:in `binary_path': Unable to <span class="token function">find</span> chromedriver. Please download the server from <span class="token punctuation">(</span>Selenium::WebDriver::Error::WebDriverError<span class="token punctuation">)</span>
</code></pre></div><p>なんでこうなるんだろう？</p>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">brew <span class="token function">install</span> chromedriver
</code></pre></div><p>homebrewでやったらやっと動いたよ。なんだったんだよ</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-07-14T13:15:29Z" title="2022-07-14T13:15:29Z">2022-07-14 13:07:00</time></header><div><p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fvividcode.hatenablog.com%2Fentry%2Fweb-driver-introduction-2017" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://vividcode.hatenablog.com/entry/web-driver-introduction-2017" style="display: none" rel="nofollow">https://vividcode.hatenablog.com/entry/web-driver-introduction-2017</a></p>
<p>W3CとSeleniumにおけるWebDriverの差異をまとめている。2017なので、現状は調べる必要あり</p>
<hr>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash"><span class="token comment"># POST</span>
http://localhost:9515/session
</code></pre></div><p>レスポンス</p>
<div class="code-block-container"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"error"</span><span class="token operator">:</span> <span class="token string">"invalid argument"</span><span class="token punctuation">,</span>
        <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"invalid argument: missing command parameters"</span><span class="token punctuation">,</span>
        <span class="token property">"stacktrace"</span><span class="token operator">:</span> <span class="token string">"0   chromedriver                        0x0000000108990079 chromedriver + 4444281\n1   chromedriver                        0x000000010891c403 chromedriver + 3970051\n2   chromedriver                        0x00000001085b7038 chromedriver + 409656\n3   chromedriver                        0x0000000108608253 chromedriver + 741971\n4   chromedriver                        0x0000000108607d57 chromedriver + 740695\n5   chromedriver                        0x0000000108590c9a chromedriver + 253082\n6   chromedriver                        0x000000010896155d chromedriver + 4253021\n7   chromedriver                        0x00000001089663a1 chromedriver + 4273057\n8   chromedriver                        0x000000010896b16f chromedriver + 4292975\n9   chromedriver                        0x0000000108966dea chromedriver + 4275690\n10  chromedriver                        0x000000010894054f chromedriver + 4117839\n11  chromedriver                        0x000000010858fd5e chromedriver + 249182\n12  dyld                                0x000000010adc651e start + 462\n"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fgithub.com%2Fjlipps%2Fsimple-wd-spec%23new-session" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://github.com/jlipps/simple-wd-spec#new-session" style="display: none" rel="nofollow">https://github.com/jlipps/simple-wd-spec#new-session</a></p>
<p>capabilityってのが必要っぽい。これはローカルエンドとリモートエンドが何を期待しているのかを指定するためのJSONオブジェクトっぽいな</p>
<div class="code-block-container"><pre class=""><code class="">{
    &quot;capabilities&quot;: {
        &quot;browserName&quot;: &quot;chrome&quot;
    }
}
</code></pre></div><p>これでセッションが立ち上がった。</p>
<div class="code-block-container"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"capabilities"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"acceptInsecureCerts"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">"browserName"</span><span class="token operator">:</span> <span class="token string">"chrome"</span><span class="token punctuation">,</span>
            <span class="token property">"browserVersion"</span><span class="token operator">:</span> <span class="token string">"103.0.5060.114"</span><span class="token punctuation">,</span>
            <span class="token property">"chrome"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"chromedriverVersion"</span><span class="token operator">:</span> <span class="token string">"103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853})"</span><span class="token punctuation">,</span>
                <span class="token property">"userDataDir"</span><span class="token operator">:</span> <span class="token string">"/var/folders/x1/sdwlm8p942b82_ct0x9fn8kc0000gn/T/.com.google.Chrome.a0bxmz"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"goog:chromeOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"debuggerAddress"</span><span class="token operator">:</span> <span class="token string">"localhost:54025"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"networkConnectionEnabled"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">"pageLoadStrategy"</span><span class="token operator">:</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>
            <span class="token property">"platformName"</span><span class="token operator">:</span> <span class="token string">"mac os x"</span><span class="token punctuation">,</span>
            <span class="token property">"proxy"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"setWindowRect"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"strictFileInteractability"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token property">"timeouts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">"implicit"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">"pageLoad"</span><span class="token operator">:</span> <span class="token number">300000</span><span class="token punctuation">,</span>
                <span class="token property">"script"</span><span class="token operator">:</span> <span class="token number">30000</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">"unhandledPromptBehavior"</span><span class="token operator">:</span> <span class="token string">"dismiss and notify"</span><span class="token punctuation">,</span>
            <span class="token property">"webauthn:extension:credBlob"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"webauthn:extension:largeBlob"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"webauthn:virtualAuthenticators"</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"sessionId"</span><span class="token operator">:</span> <span class="token string">"75f8bf0e75bb087285ace047e060cc21"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一番最後をみると、sessionIdが追加されている。このIDを利用して次のアクセスを発行していく。</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/comments","created_at":"2022-07-14T11:13:32Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/56","id":1304634744,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5NwyV4","number":56,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/timeline","title":"2022-07-14","updated_at":"2022-07-14T11:13:32Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"短くても良いから進捗を出すのだ\n","bodyHTML":"\u003cp\u003e短くても良いから進捗を出すのだ\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-07-14T11:13:45Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184318673","id":1184318673,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5Gl0TR","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184318673/reactions"},"updated_at":"2022-07-14T11:13:45Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184318673","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"Selenium実践入門を読んでいる\n\nChromeを動かすには\n\n- Chrome\n- WebDriverのクライアントライブラリ\n- ChromeDriverサーバ: https://chromedriver.storage.googleapis.com/index.html\n\n```bash\nlib/selenium/webdriver/common/service.rb:104:in `binary_path': Unable to find chromedriver. Please download the server from (Selenium::WebDriver::Error::WebDriverError)\n```\n\nなんでこうなるんだろう？\n\n```bash\nbrew install chromedriver\n```\n\nhomebrewでやったらやっと動いたよ。なんだったんだよ\n","bodyHTML":"\u003cp\u003eSelenium実践入門を読んでいる\u003c/p\u003e\n\u003cp\u003eChromeを動かすには\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eChrome\u003c/li\u003e\n\u003cli\u003eWebDriverのクライアントライブラリ\u003c/li\u003e\n\u003cli\u003eChromeDriverサーバ: \u003ca href=\"https://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow\"\u003ehttps://chromedriver.storage.googleapis.com/index.html\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003elib/selenium/webdriver/common/service.rb:104:in `binary_path': Unable to \u003cspan class=\"token function\"\u003efind\u003c/span\u003e chromedriver. Please download the server from \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eSelenium::WebDriver::Error::WebDriverError\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eなんでこうなるんだろう？\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ebrew \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e chromedriver\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003ehomebrewでやったらやっと動いたよ。なんだったんだよ\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-07-14T11:57:21Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184359313","id":1184359313,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5Gl-OR","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184359313/reactions"},"updated_at":"2022-07-14T11:57:21Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184359313","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"https://vividcode.hatenablog.com/entry/web-driver-introduction-2017\n\nW3CとSeleniumにおけるWebDriverの差異をまとめている。2017なので、現状は調べる必要あり\n\n---\n\n```bash\n# POST\nhttp://localhost:9515/session\n```\n\nレスポンス\n\n```json\n{\n    \"value\": {\n        \"error\": \"invalid argument\",\n        \"message\": \"invalid argument: missing command parameters\",\n        \"stacktrace\": \"0   chromedriver                        0x0000000108990079 chromedriver + 4444281\\n1   chromedriver                        0x000000010891c403 chromedriver + 3970051\\n2   chromedriver                        0x00000001085b7038 chromedriver + 409656\\n3   chromedriver                        0x0000000108608253 chromedriver + 741971\\n4   chromedriver                        0x0000000108607d57 chromedriver + 740695\\n5   chromedriver                        0x0000000108590c9a chromedriver + 253082\\n6   chromedriver                        0x000000010896155d chromedriver + 4253021\\n7   chromedriver                        0x00000001089663a1 chromedriver + 4273057\\n8   chromedriver                        0x000000010896b16f chromedriver + 4292975\\n9   chromedriver                        0x0000000108966dea chromedriver + 4275690\\n10  chromedriver                        0x000000010894054f chromedriver + 4117839\\n11  chromedriver                        0x000000010858fd5e chromedriver + 249182\\n12  dyld                                0x000000010adc651e start + 462\\n\"\n    }\n}\n```\n\nhttps://github.com/jlipps/simple-wd-spec#new-session\n\ncapabilityってのが必要っぽい。これはローカルエンドとリモートエンドが何を期待しているのかを指定するためのJSONオブジェクトっぽいな\n\n```\n{\n    \"capabilities\": {\n        \"browserName\": \"chrome\"\n    }\n}\n```\n\nこれでセッションが立ち上がった。\n\n```json\n{\n    \"value\": {\n        \"capabilities\": {\n            \"acceptInsecureCerts\": false,\n            \"browserName\": \"chrome\",\n            \"browserVersion\": \"103.0.5060.114\",\n            \"chrome\": {\n                \"chromedriverVersion\": \"103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853})\",\n                \"userDataDir\": \"/var/folders/x1/sdwlm8p942b82_ct0x9fn8kc0000gn/T/.com.google.Chrome.a0bxmz\"\n            },\n            \"goog:chromeOptions\": {\n                \"debuggerAddress\": \"localhost:54025\"\n            },\n            \"networkConnectionEnabled\": false,\n            \"pageLoadStrategy\": \"normal\",\n            \"platformName\": \"mac os x\",\n            \"proxy\": {},\n            \"setWindowRect\": true,\n            \"strictFileInteractability\": false,\n            \"timeouts\": {\n                \"implicit\": 0,\n                \"pageLoad\": 300000,\n                \"script\": 30000\n            },\n            \"unhandledPromptBehavior\": \"dismiss and notify\",\n            \"webauthn:extension:credBlob\": true,\n            \"webauthn:extension:largeBlob\": true,\n            \"webauthn:virtualAuthenticators\": true\n        },\n        \"sessionId\": \"75f8bf0e75bb087285ace047e060cc21\"\n    }\n}\n```\n\n一番最後をみると、sessionIdが追加されている。このIDを利用して次のアクセスを発行していく。\n","bodyHTML":"\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fvividcode.hatenablog.com%2Fentry%2Fweb-driver-introduction-2017\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://vividcode.hatenablog.com/entry/web-driver-introduction-2017\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://vividcode.hatenablog.com/entry/web-driver-introduction-2017\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eW3CとSeleniumにおけるWebDriverの差異をまとめている。2017なので、現状は調べる必要あり\u003c/p\u003e\n\u003chr\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token comment\"\u003e# POST\u003c/span\u003e\nhttp://localhost:9515/session\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eレスポンス\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"value\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token property\"\u003e\"error\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"invalid argument\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token property\"\u003e\"message\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"invalid argument: missing command parameters\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token property\"\u003e\"stacktrace\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"0   chromedriver                        0x0000000108990079 chromedriver + 4444281\\n1   chromedriver                        0x000000010891c403 chromedriver + 3970051\\n2   chromedriver                        0x00000001085b7038 chromedriver + 409656\\n3   chromedriver                        0x0000000108608253 chromedriver + 741971\\n4   chromedriver                        0x0000000108607d57 chromedriver + 740695\\n5   chromedriver                        0x0000000108590c9a chromedriver + 253082\\n6   chromedriver                        0x000000010896155d chromedriver + 4253021\\n7   chromedriver                        0x00000001089663a1 chromedriver + 4273057\\n8   chromedriver                        0x000000010896b16f chromedriver + 4292975\\n9   chromedriver                        0x0000000108966dea chromedriver + 4275690\\n10  chromedriver                        0x000000010894054f chromedriver + 4117839\\n11  chromedriver                        0x000000010858fd5e chromedriver + 249182\\n12  dyld                                0x000000010adc651e start + 462\\n\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fgithub.com%2Fjlipps%2Fsimple-wd-spec%23new-session\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://github.com/jlipps/simple-wd-spec#new-session\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://github.com/jlipps/simple-wd-spec#new-session\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ecapabilityってのが必要っぽい。これはローカルエンドとリモートエンドが何を期待しているのかを指定するためのJSONオブジェクトっぽいな\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"\"\u003e\u003ccode class=\"\"\u003e{\n    \u0026quot;capabilities\u0026quot;: {\n        \u0026quot;browserName\u0026quot;: \u0026quot;chrome\u0026quot;\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこれでセッションが立ち上がった。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"value\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token property\"\u003e\"capabilities\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"acceptInsecureCerts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"browserName\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"chrome\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"browserVersion\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"103.0.5060.114\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"chrome\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"chromedriverVersion\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853})\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"userDataDir\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/var/folders/x1/sdwlm8p942b82_ct0x9fn8kc0000gn/T/.com.google.Chrome.a0bxmz\"\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"goog:chromeOptions\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"debuggerAddress\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"localhost:54025\"\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"networkConnectionEnabled\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"pageLoadStrategy\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"normal\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"platformName\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"mac os x\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"proxy\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"setWindowRect\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"strictFileInteractability\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"timeouts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"implicit\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"pageLoad\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e300000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"token property\"\u003e\"script\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e30000\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"unhandledPromptBehavior\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"dismiss and notify\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"webauthn:extension:credBlob\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"webauthn:extension:largeBlob\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"webauthn:virtualAuthenticators\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token property\"\u003e\"sessionId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"75f8bf0e75bb087285ace047e060cc21\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e一番最後をみると、sessionIdが追加されている。このIDを利用して次のアクセスを発行していく。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-07-14T13:15:29Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184435578","id":1184435578,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5GmQ16","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184435578/reactions"},"updated_at":"2022-07-14T13:15:29Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184435578","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"56"},"buildId":"Ah9GTGsE4b3kpdYBdnt19","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>