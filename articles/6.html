<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-05-20</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/9ba8843f2bcaaa09.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/9ba8843f2bcaaa09.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/f43dd8df72df9f95.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/f43dd8df72df9f95.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-a912e852724a63a5.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/--44Tmhd8zYdbPoWSVlS8/_buildManifest.js" defer=""></script><script src="/diary/_next/static/--44Tmhd8zYdbPoWSVlS8/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/--44Tmhd8zYdbPoWSVlS8/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T00:54:51Z" title="2022-05-20T00:54:51Z">2022-05-20 00:05:00</time><h1 class="font-bold text-slate-600">2022-05-20</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/6">#6</a>.<!-- --></p></aside><div><p>.</p>
</div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T01:29:04Z" title="2022-05-20T01:29:04Z">2022-05-20 01:05:00</time></header><div><p>新聞</p>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> <code>content_security_policy</code></li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> <code>destroy_async_parent</code>：テストファイル名になっているけど、なんのテストしているんだろう</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> bin/rails testでdeclared nameによるテストのフィルターを指定</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> コミットに<code>ci-skip</code>とあるのはなんだろう？</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox"type="checkbox"> valiatorの引数をrecord引数なしで指定できるとは？</li>
</ul>
<h3 id="content_secutiry_policy"><a class="header-anchor-link" href="#content_secutiry_policy" aria-hidden="true" rel="nofollow"></a> content_secutiry_policy</h3>
<ul>
<li>XSSに対する防御策。CSPと略されることも多い。</li>
<li>Content-Security-Policyレスポンスヘッダを使って、Webブラウザで使える機能を細かく設定できる仕組み</li>
<li>RailsではCSPを設定するためのDSLが提供されている</li>
<li>グローバル設定は<code>config/initializers/content_security_policy.rb</code>で実施する。<code>rails new</code>したタイミングで作成されているが、初期状態では何も設定されていない状態。</li>
<li>グローバルな設定とは別にControllerでオーバーライドし、リソースごとに設定することも可能</li>
<li>今回の修正ではinitializerで定義されているcontent_security_policyでもhelper_methodが使用できるようになっている。もともと<code>yield</code>を使っていたが、selfが正しくないので、<code>insrance_exec</code>を使用するように変更した。</li>
<li>参考
<ul>
<li><a href="https://railsguides.jp/security.html#content-security-policy%EF%BC%88csp%EF%BC%89" rel="nofollow">Rails セキュリティガイド - Railsガイド</a></li>
<li><a href="https://docs.ruby-lang.org/ja/latest/method/BasicObject/i/instance_exec.html" rel="nofollow">BasicObject#instance_exec (Ruby 3.1 リファレンスマニュアル)</a></li>
<li><a href="https://zenn.dev/cobachie/articles/rails-security">Rails アプリケーションのセキュリティ対策（CORS/CSP/HSTS）</a></li>
</ul>
</li>
</ul>
<h3 id="dependent%3A-%3Adestroy_async"><a class="header-anchor-link" href="#dependent%3A-%3Adestroy_async" aria-hidden="true" rel="nofollow"></a> dependent: :destroy_async</h3>
<ul>
<li>非同期で関連を削除する。連鎖するオブジェクトが多い場合に、サーバタイムアウトするのを防ぐための仕組み</li>
<li>Rails 6.1で導入</li>
<li>参考：<a href="https://techracho.bpsinc.jp/hachi8833/2021_01_18/103016" rel="nofollow">Rails 6.1: 関連付けをバックグラウンド削除する「dependent: :destroy_async」（翻訳）｜TechRacho by BPS株式会社</a></li>
</ul>
<h3 id="%E3%83%86%E3%82%B9%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%ABdeclared-name%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB"><a class="header-anchor-link" href="#%E3%83%86%E3%82%B9%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%ABdeclared-name%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB" aria-hidden="true" rel="nofollow"></a> テスト実行時にdeclared nameで実行できるように</h3>
<div class="code-block-container"><pre class="language-ruby"><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">MyTest</span> <span class="token operator">&lt;</span> ActiveSupport<span class="token double-colon punctuation">::</span>TestCase
  test <span class="token string-literal"><span class="token string">"does something"</span></span> <span class="token keyword">do</span>
    <span class="token comment"># ...</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div><p>これを</p>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">$ rails <span class="token builtin class-name">test</span> test/my_test.rb -n <span class="token string">"does something"</span>
</code></pre></div><p>で呼べるようにしたとのこと。もともと、<code>test_does_something</code>でないと呼べなかったみたい。</p>
<h3 id="%5Bci-skip%5D"><a class="header-anchor-link" href="#%5Bci-skip%5D" aria-hidden="true" rel="nofollow"></a> [ci skip]</h3>
<ul>
<li>コミットメッセージに特定のキーワードを含めるとciをスキップできる。</li>
<li>参考
<ul>
<li><a href="https://techracho.bpsinc.jp/sugita/2019_12_18/84820" rel="nofollow">Gitのpush時にCIのビルドを回避する方法｜TechRacho by BPS株式会社</a></li>
<li><a href="https://docs.github.com/ja/actions/managing-workflow-runs/skipping-workflow-runs" rel="nofollow">ワークフロー実行をスキップする - GitHub Docs</a></li>
</ul>
</li>
</ul>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T01:29:18Z" title="2022-05-20T01:29:18Z">2022-05-20 01:05:00</time></header><div><p>最後の一個は時間切れ</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T01:29:32Z" title="2022-05-20T01:29:32Z">2022-05-20 01:05:00</time></header><div><p>pigs_can_fly?をサンプルコードに使用するケースって、「絶対にfalseをかえすメソッド」って意図で使っている理解でいいのかな？<br style="display: none">
<div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fja.wikipedia.org%2Fwiki%2F%25E7%25A9%25BA%25E9%25A3%259B%25E3%2581%25B6%25E8%25B1%259A" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://ja.wikipedia.org/wiki/%E7%A9%BA%E9%A3%9B%E3%81%B6%E8%B1%9A" style="display: none" rel="nofollow">https://ja.wikipedia.org/wiki/空飛ぶ豚</a></p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T03:14:39Z" title="2022-05-20T03:14:39Z">2022-05-20 03:05:00</time></header><div><p>ソフトスキル分析少し疲れたので、Chrome拡張の方に切り替える</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T03:35:52Z" title="2022-05-20T03:35:52Z">2022-05-20 03:05:00</time></header><div><p>オプションページを作っていく</p>
<h2 id="%E5%8F%82%E8%80%83"><a class="header-anchor-link" href="#%E5%8F%82%E8%80%83" aria-hidden="true" rel="nofollow"></a> 参考</h2>
<ul>
<li><a href="https://www.tohoho-web.com/ex/chrome_extension.html" rel="nofollow">とほほのChrome拡張機能開発入門 - とほほのWWW入門</a></li>
<li><a href="https://developer.chrome.com/docs/extensions/mv3/options/" rel="nofollow">Give users options - Chrome Developers</a></li>
</ul>
<h2 id="%E3%83%A1%E3%83%A2"><a class="header-anchor-link" href="#%E3%83%A1%E3%83%A2" aria-hidden="true" rel="nofollow"></a> メモ</h2>
<ul>
<li>optionページは、フルページと埋め込みの2種類がある
<ul>
<li>フルページ：新しいタブが開く。manifest.jsonで<code>options_page</code>を用いて設定する</li>
<li>埋め込み：拡張機能の管理ページに表示する。manifest.jsonで<code>options_ui</code>を用いて設定する</li>
</ul>
</li>
<li>とりあえずフルページで作成するのでいいのかな</li>
</ul>
<h2 id="%E3%82%BF%E3%82%B9%E3%82%AF"><a class="header-anchor-link" href="#%E3%82%BF%E3%82%B9%E3%82%AF" aria-hidden="true" rel="nofollow"></a> タスク</h2>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> manifest.jsonにオプション画面の設定を登録する
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> ページのファイルを指定する</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> 入力データを保存するためにstorageの権限を指定する</li>
</ul>
</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> HTMLファイルを作成する
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> とりあえずesaのアクセストークンを保存する</li>
</ul>
</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> storage APIを利用してデータを保存する</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> オプションで指定した値を使用して、esaにアクセスする</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> その他のオプションについてもオプションに保存するように変更する
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> チーム名</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> 日報が保存されているカテゴリ</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" checked=""type="checkbox"> 日報のテンプレート</li>
</ul>
</li>
</ul>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T03:58:57Z" title="2022-05-20T03:58:57Z">2022-05-20 03:05:00</time></header><div><p><img src="https://user-images.githubusercontent.com/61409641/169445840-d3dab43a-5ce5-471b-9d12-6f98f6759504.png" alt="CleanShot 2022-05-20 at 12 39 27"></p>
<p>とりあえずoptionページが表示されるようになりました。デザイン無視してガワだけ作成します。</p>
<p><img src="https://user-images.githubusercontent.com/61409641/169446611-4d05a5f0-5703-47e8-b93f-a639e2d655e2.png" alt="CleanShot 2022-05-20 at 12 47 18"></p>
<p>入力されたデータを保存するように変更します</p>
<div class="code-block-container"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Saves options to chrome.storage</span>
<span class="token keyword">const</span> <span class="token function-variable function">save_options</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> accessToken <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'accessToken'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value

  chrome<span class="token punctuation">.</span>storage<span class="token punctuation">.</span>sync<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">accessToken</span><span class="token operator">:</span> accessToken
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'保存しました!'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> status <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span>
    status<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Options saved'</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      status<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">750</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'save'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> save_options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="code-block-container"><pre class=""><code class="">Uncaught TypeError: Cannot read properties of undefined (reading 'sync')
    at HTMLButtonElement.save_options (options.js:5:18)
</code></pre></div><p>う〜ん、chromeのAPIの方がうまく読み取れていないみたいですね。<br>
→リロードしたら治ったんですが、どうもmanifest.jsonのpermissionが読み取れていなかったときの挙動のようです。メッセージとしてこれはわかりづらいなあ</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T04:23:13Z" title="2022-05-20T04:23:13Z">2022-05-20 04:05:00</time></header><div><p>StorageAPIで保存した情報はどこに設定されているのか？Local Storage？</p>
<p><a href="https://developer.chrome.com/docs/extensions/reference/storage/#property" rel="nofollow">chrome.storage - Chrome Developers</a><br>
<a href="https://qiita.com/dhun/items/cf18e43cb0376fcff302#get" rel="nofollow">Chromeエクステンションを作ろう：ストレージ編 - Qiita</a></p>
<p>Storageの形態には複数あるようです</p>
<ul>
<li>local</li>
<li>managed</li>
<li>session</li>
<li>sync</li>
</ul>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T04:23:41Z" title="2022-05-20T04:23:41Z">2022-05-20 04:05:00</time></header><div><p><img src="https://user-images.githubusercontent.com/61409641/169450122-9738120f-e1a0-4546-af11-979e441a9119.png" alt="image"></p>
<p>syncに保存して、永続化できるようになりました！</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T04:43:13Z" title="2022-05-20T04:43:13Z">2022-05-20 04:05:00</time></header><div><p>保存した情報でAPIアクセスができるようになった。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fgithub.com%2FIkumaTadokoro%2Fkyo-no-esa%2Fcommit%2F5c4449c28fdba265047e1e6ebe040f7f651d0198" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://github.com/IkumaTadokoro/kyo-no-esa/commit/5c4449c28fdba265047e1e6ebe040f7f651d0198" style="display: none" rel="nofollow">https://github.com/IkumaTadokoro/kyo-no-esa/commit/5c4449c28fdba265047e1e6ebe040f7f651d0198</a></p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T04:44:42Z" title="2022-05-20T04:44:42Z">2022-05-20 04:05:00</time></header><div><p>その他の情報についてもオプションページで指定できるように変更する</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T04:55:18Z" title="2022-05-20T04:55:18Z">2022-05-20 04:05:00</time></header><div><p><img src="https://user-images.githubusercontent.com/61409641/169453303-ad09080c-38a2-4b56-a856-e7ea3e67cc3b.png" alt="CleanShot 2022-05-20 at 13 55 01"></p>
<p>とりあえず枠だけ作成する</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T05:22:35Z" title="2022-05-20T05:22:35Z">2022-05-20 05:05:00</time></header><div><p>全部オプションページを使用した値を使って設定できるようになった。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T05:25:17Z" title="2022-05-20T05:25:17Z">2022-05-20 05:05:00</time></header><div><p>あとはちゃんとスタイルを当てるか。ViteでTailwindCSSでやるならこれかな〜<br>
<a href="https://tailwindcss.com/docs/guides/vite" rel="nofollow">Install Tailwind CSS with Vue 3 and Vite - Tailwind CSS</a></p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T08:27:16Z" title="2022-05-20T08:27:16Z">2022-05-20 08:05:00</time></header><div><p>デザインはざっくりにして、buildをする</p>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> run build


src/App.vue:17:70 - error TS2304: Cannot <span class="token function">find</span> name <span class="token string">'chrome'</span><span class="token builtin class-name">.</span>

<span class="token number">17</span>   const <span class="token punctuation">{</span> accessToken, teamName, diaryCategory, templateId <span class="token punctuation">}</span> <span class="token operator">=</span> await chrome.storage.sync.get<span class="token punctuation">(</span><span class="token punctuation">[</span>
                                                                        ~~~~~~

src/App.vue:32:29 - error TS2322: Type <span class="token string">'{}'</span> is not assignable to <span class="token builtin class-name">type</span> <span class="token string">'string'</span><span class="token builtin class-name">.</span>

<span class="token number">32</span>     <span class="token operator">&lt;</span>a <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"text-center"</span> :href<span class="token operator">=</span><span class="token string">"diaryUrl"</span><span class="token operator">></span>今日の<span class="token operator">&lt;</span>br<span class="token operator">></span>esa<span class="token operator">&lt;</span>/a<span class="token operator">></span>
                               ~~~~

  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3
    <span class="token number">481</span>   href?: string
          ~~~~
    The expected <span class="token builtin class-name">type</span> comes from property <span class="token string">'href'</span> <span class="token function">which</span> is declared here on <span class="token builtin class-name">type</span> <span class="token string">'ElementAttrs&lt;AnchorHTMLAttributes>'</span>


Found <span class="token number">2</span> errors <span class="token keyword">in</span> the same file, starting at: src/App.vue:17
</code></pre></div><p>とりあえずchrome関連については、chromeのtypesを追加する</p>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/chrome
</code></pre></div><p>これで再度buildする</p>
<div class="code-block-container"><pre class="language-bash"><code class="language-bash">
src/App.vue:32:29 - error TS2322: Type <span class="token string">'{}'</span> is not assignable to <span class="token builtin class-name">type</span> <span class="token string">'string'</span><span class="token builtin class-name">.</span>

<span class="token number">32</span>     <span class="token operator">&lt;</span>a <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"text-center"</span> :href<span class="token operator">=</span><span class="token string">"diaryUrl"</span><span class="token operator">></span>今日の<span class="token operator">&lt;</span>br<span class="token operator">></span>esa<span class="token operator">&lt;</span>/a<span class="token operator">></span>
                               ~~~~

  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3
    <span class="token number">481</span>   href?: string
          ~~~~
    The expected <span class="token builtin class-name">type</span> comes from property <span class="token string">'href'</span> <span class="token function">which</span> is declared here on <span class="token builtin class-name">type</span> <span class="token string">'ElementAttrs&lt;AnchorHTMLAttributes>'</span>


Found <span class="token number">1</span> error <span class="token keyword">in</span> src/App.vue:32
</code></pre></div><p><code>{}</code>に対してstringを代入することはできないよってか？</p>
<div class="code-block-container"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">// before</span>
<span class="token keyword">const</span> diaryUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// after</span>
<span class="token keyword">const</span> diaryUrl <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</code></pre></div><p>これで解決しました。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T08:31:12Z" title="2022-05-20T08:31:12Z">2022-05-20 08:05:00</time></header><div><p>今日の分のdiaryがGitHub Pagesに反映されていないのは何故だろう？GitHub Actionsは問題なさそうなんだけどね。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T11:29:57Z" title="2022-05-20T11:29:57Z">2022-05-20 11:05:00</time></header><div><p>最初のコメントを編集したら連携された。本家の方も連携されていなかったっぽいので、構造的に問題があるのかな？</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-05-20T12:47:21Z" title="2022-05-20T12:47:21Z">2022-05-20 12:05:00</time></header><div><p><img src="https://user-images.githubusercontent.com/61409641/169530858-f4879405-62dc-4756-9921-f945c29d8ddf.png" alt="CleanShot 2022-05-20 at 21 45 46"></p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fapps.apple.com%2Fjp%2Fapp%2Fmoom%2Fid419330170%3Fmt%3D12" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://apps.apple.com/jp/app/moom/id419330170?mt=12" style="display: none" rel="nofollow">https://apps.apple.com/jp/app/moom/id419330170?mt=12</a></p>
<p>Moomという画面分割アプリを買った。1500円くらい。<br>
アプリの画面配置を覚えてくれるので、Twitter用ChromerとterminalとメインChromeみたいな構成を保持できて便利。結構ストレスだったので買ってよかった</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":".","bodyHTML":"\u003cp\u003e.\u003c/p\u003e\n","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":15,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6/comments","created_at":"2022-05-20T00:54:51Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/6","id":1242470534,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5KDpiG","number":6,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6/timeline","title":"2022-05-20","updated_at":"2022-05-20T11:27:02Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"新聞\r\n\r\n- [x] `content_security_policy`\r\n- [x] `destroy_async_parent`：テストファイル名になっているけど、なんのテストしているんだろう\r\n- [x] bin/rails testでdeclared nameによるテストのフィルターを指定\r\n- [x] コミットに`ci-skip`とあるのはなんだろう？\r\n- [ ] valiatorの引数をrecord引数なしで指定できるとは？\r\n\r\n### content_secutiry_policy\r\n\r\n- XSSに対する防御策。CSPと略されることも多い。\r\n- Content-Security-Policyレスポンスヘッダを使って、Webブラウザで使える機能を細かく設定できる仕組み\r\n- RailsではCSPを設定するためのDSLが提供されている\r\n- グローバル設定は`config/initializers/content_security_policy.rb`で実施する。`rails new`したタイミングで作成されているが、初期状態では何も設定されていない状態。\r\n- グローバルな設定とは別にControllerでオーバーライドし、リソースごとに設定することも可能\r\n- 今回の修正ではinitializerで定義されているcontent_security_policyでもhelper_methodが使用できるようになっている。もともと`yield`を使っていたが、selfが正しくないので、`insrance_exec`を使用するように変更した。\r\n- 参考\r\n    - [Rails セキュリティガイド \\- Railsガイド](https://railsguides.jp/security.html#content-security-policy%EF%BC%88csp%EF%BC%89)\r\n    - [BasicObject\\#instance\\_exec \\(Ruby 3\\.1 リファレンスマニュアル\\)](https://docs.ruby-lang.org/ja/latest/method/BasicObject/i/instance_exec.html)\r\n    - [Rails アプリケーションのセキュリティ対策（CORS/CSP/HSTS）](https://zenn.dev/cobachie/articles/rails-security)\r\n\r\n### dependent: :destroy_async\r\n\r\n- 非同期で関連を削除する。連鎖するオブジェクトが多い場合に、サーバタイムアウトするのを防ぐための仕組み\r\n- Rails 6.1で導入\r\n- 参考：[Rails 6\\.1: 関連付けをバックグラウンド削除する「dependent: :destroy\\_async」（翻訳）｜TechRacho by BPS株式会社](https://techracho.bpsinc.jp/hachi8833/2021_01_18/103016)\r\n\r\n### テスト実行時にdeclared nameで実行できるように\r\n\r\n```ruby\r\nclass MyTest \u003c ActiveSupport::TestCase\r\n  test \"does something\" do\r\n    # ...\r\n  end\r\nend\r\n```\r\n\r\nこれを\r\n\r\n```bash\r\n$ rails test test/my_test.rb -n \"does something\"\r\n```\r\n\r\nで呼べるようにしたとのこと。もともと、`test_does_something`でないと呼べなかったみたい。\r\n\r\n### [ci skip]\r\n\r\n- コミットメッセージに特定のキーワードを含めるとciをスキップできる。\r\n- 参考\r\n    - [Gitのpush時にCIのビルドを回避する方法｜TechRacho by BPS株式会社](https://techracho.bpsinc.jp/sugita/2019_12_18/84820)\r\n    - [ワークフロー実行をスキップする \\- GitHub Docs](https://docs.github.com/ja/actions/managing-workflow-runs/skipping-workflow-runs)","bodyHTML":"\u003cp\u003e新聞\u003c/p\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e \u003ccode\u003econtent_security_policy\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e \u003ccode\u003edestroy_async_parent\u003c/code\u003e：テストファイル名になっているけど、なんのテストしているんだろう\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e bin/rails testでdeclared nameによるテストのフィルターを指定\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e コミットに\u003ccode\u003eci-skip\u003c/code\u003eとあるのはなんだろう？\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\"type=\"checkbox\"\u003e valiatorの引数をrecord引数なしで指定できるとは？\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"content_secutiry_policy\"\u003e\u003ca class=\"header-anchor-link\" href=\"#content_secutiry_policy\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e content_secutiry_policy\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eXSSに対する防御策。CSPと略されることも多い。\u003c/li\u003e\n\u003cli\u003eContent-Security-Policyレスポンスヘッダを使って、Webブラウザで使える機能を細かく設定できる仕組み\u003c/li\u003e\n\u003cli\u003eRailsではCSPを設定するためのDSLが提供されている\u003c/li\u003e\n\u003cli\u003eグローバル設定は\u003ccode\u003econfig/initializers/content_security_policy.rb\u003c/code\u003eで実施する。\u003ccode\u003erails new\u003c/code\u003eしたタイミングで作成されているが、初期状態では何も設定されていない状態。\u003c/li\u003e\n\u003cli\u003eグローバルな設定とは別にControllerでオーバーライドし、リソースごとに設定することも可能\u003c/li\u003e\n\u003cli\u003e今回の修正ではinitializerで定義されているcontent_security_policyでもhelper_methodが使用できるようになっている。もともと\u003ccode\u003eyield\u003c/code\u003eを使っていたが、selfが正しくないので、\u003ccode\u003einsrance_exec\u003c/code\u003eを使用するように変更した。\u003c/li\u003e\n\u003cli\u003e参考\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://railsguides.jp/security.html#content-security-policy%EF%BC%88csp%EF%BC%89\" rel=\"nofollow\"\u003eRails セキュリティガイド - Railsガイド\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.ruby-lang.org/ja/latest/method/BasicObject/i/instance_exec.html\" rel=\"nofollow\"\u003eBasicObject#instance_exec (Ruby 3.1 リファレンスマニュアル)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://zenn.dev/cobachie/articles/rails-security\"\u003eRails アプリケーションのセキュリティ対策（CORS/CSP/HSTS）\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"dependent%3A-%3Adestroy_async\"\u003e\u003ca class=\"header-anchor-link\" href=\"#dependent%3A-%3Adestroy_async\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e dependent: :destroy_async\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e非同期で関連を削除する。連鎖するオブジェクトが多い場合に、サーバタイムアウトするのを防ぐための仕組み\u003c/li\u003e\n\u003cli\u003eRails 6.1で導入\u003c/li\u003e\n\u003cli\u003e参考：\u003ca href=\"https://techracho.bpsinc.jp/hachi8833/2021_01_18/103016\" rel=\"nofollow\"\u003eRails 6.1: 関連付けをバックグラウンド削除する「dependent: :destroy_async」（翻訳）｜TechRacho by BPS株式会社\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"%E3%83%86%E3%82%B9%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%ABdeclared-name%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%83%86%E3%82%B9%E3%83%88%E5%AE%9F%E8%A1%8C%E6%99%82%E3%81%ABdeclared-name%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e テスト実行時にdeclared nameで実行できるように\u003c/h3\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-ruby\"\u003e\u003ccode class=\"language-ruby\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyTest\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e ActiveSupport\u003cspan class=\"token double-colon punctuation\"\u003e::\u003c/span\u003eTestCase\n  test \u003cspan class=\"token string-literal\"\u003e\u003cspan class=\"token string\"\u003e\"does something\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edo\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e# ...\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこれを\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ rails \u003cspan class=\"token builtin class-name\"\u003etest\u003c/span\u003e test/my_test.rb -n \u003cspan class=\"token string\"\u003e\"does something\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eで呼べるようにしたとのこと。もともと、\u003ccode\u003etest_does_something\u003c/code\u003eでないと呼べなかったみたい。\u003c/p\u003e\n\u003ch3 id=\"%5Bci-skip%5D\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%5Bci-skip%5D\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e [ci skip]\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eコミットメッセージに特定のキーワードを含めるとciをスキップできる。\u003c/li\u003e\n\u003cli\u003e参考\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://techracho.bpsinc.jp/sugita/2019_12_18/84820\" rel=\"nofollow\"\u003eGitのpush時にCIのビルドを回避する方法｜TechRacho by BPS株式会社\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.github.com/ja/actions/managing-workflow-runs/skipping-workflow-runs\" rel=\"nofollow\"\u003eワークフロー実行をスキップする - GitHub Docs\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","author_association":"OWNER","created_at":"2022-05-20T01:29:04Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132354474","id":1132354474,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Dfluq","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354474/reactions"},"updated_at":"2022-05-20T01:29:04Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354474","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"最後の一個は時間切れ","bodyHTML":"\u003cp\u003e最後の一個は時間切れ\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T01:29:18Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132354581","id":1132354581,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DflwV","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354581/reactions"},"updated_at":"2022-05-20T01:29:18Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354581","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"pigs_can_fly?をサンプルコードに使用するケースって、「絶対にfalseをかえすメソッド」って意図で使っている理解でいいのかな？\r\nhttps://ja.wikipedia.org/wiki/%E7%A9%BA%E9%A3%9B%E3%81%B6%E8%B1%9A","bodyHTML":"\u003cp\u003epigs_can_fly?をサンプルコードに使用するケースって、「絶対にfalseをかえすメソッド」って意図で使っている理解でいいのかな？\u003cbr style=\"display: none\"\u003e\n\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fja.wikipedia.org%2Fwiki%2F%25E7%25A9%25BA%25E9%25A3%259B%25E3%2581%25B6%25E8%25B1%259A\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E7%A9%BA%E9%A3%9B%E3%81%B6%E8%B1%9A\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://ja.wikipedia.org/wiki/空飛ぶ豚\u003c/a\u003e\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T01:29:32Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132354699","id":1132354699,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DflyL","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354699/reactions"},"updated_at":"2022-05-20T01:29:32Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132354699","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"ソフトスキル分析少し疲れたので、Chrome拡張の方に切り替える","bodyHTML":"\u003cp\u003eソフトスキル分析少し疲れたので、Chrome拡張の方に切り替える\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T03:14:39Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132412909","id":1132412909,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Dfz_t","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132412909/reactions"},"updated_at":"2022-05-20T03:14:39Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132412909","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"オプションページを作っていく\n\n## 参考\n\n- [とほほのChrome拡張機能開発入門 \\- とほほのWWW入門](https://www.tohoho-web.com/ex/chrome_extension.html)\n- [Give users options \\- Chrome Developers](https://developer.chrome.com/docs/extensions/mv3/options/)\n\n## メモ\n\n- optionページは、フルページと埋め込みの2種類がある\n  - フルページ：新しいタブが開く。manifest.jsonで`options_page`を用いて設定する\n  - 埋め込み：拡張機能の管理ページに表示する。manifest.jsonで`options_ui`を用いて設定する\n- とりあえずフルページで作成するのでいいのかな\n\n## タスク\n\n- [x] manifest.jsonにオプション画面の設定を登録する\n  - [x] ページのファイルを指定する\n  - [x] 入力データを保存するためにstorageの権限を指定する\n- [x] HTMLファイルを作成する\n  - [x] とりあえずesaのアクセストークンを保存する\n- [x] storage APIを利用してデータを保存する\n- [x] オプションで指定した値を使用して、esaにアクセスする\n- [x] その他のオプションについてもオプションに保存するように変更する\n  - [x] チーム名\n  - [x] 日報が保存されているカテゴリ\n  - [x] 日報のテンプレート\n\n","bodyHTML":"\u003cp\u003eオプションページを作っていく\u003c/p\u003e\n\u003ch2 id=\"%E5%8F%82%E8%80%83\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E5%8F%82%E8%80%83\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 参考\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.tohoho-web.com/ex/chrome_extension.html\" rel=\"nofollow\"\u003eとほほのChrome拡張機能開発入門 - とほほのWWW入門\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/docs/extensions/mv3/options/\" rel=\"nofollow\"\u003eGive users options - Chrome Developers\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"%E3%83%A1%E3%83%A2\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%83%A1%E3%83%A2\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e メモ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eoptionページは、フルページと埋め込みの2種類がある\n\u003cul\u003e\n\u003cli\u003eフルページ：新しいタブが開く。manifest.jsonで\u003ccode\u003eoptions_page\u003c/code\u003eを用いて設定する\u003c/li\u003e\n\u003cli\u003e埋め込み：拡張機能の管理ページに表示する。manifest.jsonで\u003ccode\u003eoptions_ui\u003c/code\u003eを用いて設定する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eとりあえずフルページで作成するのでいいのかな\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"%E3%82%BF%E3%82%B9%E3%82%AF\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%82%BF%E3%82%B9%E3%82%AF\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e タスク\u003c/h2\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e manifest.jsonにオプション画面の設定を登録する\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e ページのファイルを指定する\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e 入力データを保存するためにstorageの権限を指定する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e HTMLファイルを作成する\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e とりあえずesaのアクセストークンを保存する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e storage APIを利用してデータを保存する\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e オプションで指定した値を使用して、esaにアクセスする\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e その他のオプションについてもオプションに保存するように変更する\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e チーム名\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e 日報が保存されているカテゴリ\u003c/li\u003e\n\u003cli class=\"task-list-item enabled\"\u003e\u003cinput class=\"task-list-item-checkbox\" checked=\"\"type=\"checkbox\"\u003e 日報のテンプレート\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","author_association":"OWNER","created_at":"2022-05-20T03:35:52Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132423806","id":1132423806,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df2p-","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132423806/reactions"},"updated_at":"2022-05-20T07:29:37Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132423806","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"![CleanShot 2022-05-20 at 12 39 27](https://user-images.githubusercontent.com/61409641/169445840-d3dab43a-5ce5-471b-9d12-6f98f6759504.png)\r\n\r\nとりあえずoptionページが表示されるようになりました。デザイン無視してガワだけ作成します。\r\n\r\n![CleanShot 2022-05-20 at 12 47 18](https://user-images.githubusercontent.com/61409641/169446611-4d05a5f0-5703-47e8-b93f-a639e2d655e2.png)\r\n\r\n入力されたデータを保存するように変更します\r\n\r\n```javascript\r\n// Saves options to chrome.storage\r\nconst save_options = () =\u003e {\r\n  const accessToken = document.getElementById('accessToken').value\r\n\r\n  chrome.storage.sync.set({\r\n    accessToken: accessToken\r\n  }, () =\u003e {\r\n    console.log('保存しました!')\r\n    const status = document.getElementById('status')\r\n    status.textContent = 'Options saved'\r\n    setTimeout(() =\u003e {\r\n      status.textContent = ''\r\n    }, 750)\r\n  })\r\n}\r\n\r\ndocument.getElementById('save').addEventListener('click', save_options);\r\n```\r\n\r\n```\r\nUncaught TypeError: Cannot read properties of undefined (reading 'sync')\r\n    at HTMLButtonElement.save_options (options.js:5:18)\r\n```\r\n\r\nう〜ん、chromeのAPIの方がうまく読み取れていないみたいですね。\r\n→リロードしたら治ったんですが、どうもmanifest.jsonのpermissionが読み取れていなかったときの挙動のようです。メッセージとしてこれはわかりづらいなあ","bodyHTML":"\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/169445840-d3dab43a-5ce5-471b-9d12-6f98f6759504.png\" alt=\"CleanShot 2022-05-20 at 12 39 27\"\u003e\u003c/p\u003e\n\u003cp\u003eとりあえずoptionページが表示されるようになりました。デザイン無視してガワだけ作成します。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/169446611-4d05a5f0-5703-47e8-b93f-a639e2d655e2.png\" alt=\"CleanShot 2022-05-20 at 12 47 18\"\u003e\u003c/p\u003e\n\u003cp\u003e入力されたデータを保存するように変更します\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token comment\"\u003e// Saves options to chrome.storage\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003esave_options\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e accessToken \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e document\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetElementById\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'accessToken'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evalue\n\n  chrome\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003estorage\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esync\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eaccessToken\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e accessToken\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'保存しました!'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e status \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e document\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetElementById\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'status'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    status\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etextContent \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Options saved'\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003esetTimeout\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      status\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etextContent \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e750\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\ndocument\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetElementById\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'save'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddEventListener\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'click'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e save_options\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"\"\u003e\u003ccode class=\"\"\u003eUncaught TypeError: Cannot read properties of undefined (reading 'sync')\n    at HTMLButtonElement.save_options (options.js:5:18)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eう〜ん、chromeのAPIの方がうまく読み取れていないみたいですね。\u003cbr\u003e\n→リロードしたら治ったんですが、どうもmanifest.jsonのpermissionが読み取れていなかったときの挙動のようです。メッセージとしてこれはわかりづらいなあ\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T03:58:57Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132432314","id":1132432314,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df4u6","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132432314/reactions"},"updated_at":"2022-05-20T03:58:57Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132432314","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"StorageAPIで保存した情報はどこに設定されているのか？Local Storage？\n\n[chrome\\.storage \\- Chrome Developers](https://developer.chrome.com/docs/extensions/reference/storage/#property)\n[Chromeエクステンションを作ろう：ストレージ編 \\- Qiita](https://qiita.com/dhun/items/cf18e43cb0376fcff302#get)\n\nStorageの形態には複数あるようです\n\n- local\n- managed\n- session\n- sync\n","bodyHTML":"\u003cp\u003eStorageAPIで保存した情報はどこに設定されているのか？Local Storage？\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://developer.chrome.com/docs/extensions/reference/storage/#property\" rel=\"nofollow\"\u003echrome.storage - Chrome Developers\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/dhun/items/cf18e43cb0376fcff302#get\" rel=\"nofollow\"\u003eChromeエクステンションを作ろう：ストレージ編 - Qiita\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eStorageの形態には複数あるようです\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elocal\u003c/li\u003e\n\u003cli\u003emanaged\u003c/li\u003e\n\u003cli\u003esession\u003c/li\u003e\n\u003cli\u003esync\u003c/li\u003e\n\u003c/ul\u003e\n","author_association":"OWNER","created_at":"2022-05-20T04:23:13Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132444121","id":1132444121,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df7nZ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132444121/reactions"},"updated_at":"2022-05-20T04:23:13Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132444121","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"![image](https://user-images.githubusercontent.com/61409641/169450122-9738120f-e1a0-4546-af11-979e441a9119.png)\r\n\r\nsyncに保存して、永続化できるようになりました！","bodyHTML":"\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/169450122-9738120f-e1a0-4546-af11-979e441a9119.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003esyncに保存して、永続化できるようになりました！\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T04:23:41Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132444340","id":1132444340,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df7q0","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132444340/reactions"},"updated_at":"2022-05-20T04:23:41Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132444340","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"保存した情報でAPIアクセスができるようになった。\r\n\r\nhttps://github.com/IkumaTadokoro/kyo-no-esa/commit/5c4449c28fdba265047e1e6ebe040f7f651d0198","bodyHTML":"\u003cp\u003e保存した情報でAPIアクセスができるようになった。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fgithub.com%2FIkumaTadokoro%2Fkyo-no-esa%2Fcommit%2F5c4449c28fdba265047e1e6ebe040f7f651d0198\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://github.com/IkumaTadokoro/kyo-no-esa/commit/5c4449c28fdba265047e1e6ebe040f7f651d0198\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://github.com/IkumaTadokoro/kyo-no-esa/commit/5c4449c28fdba265047e1e6ebe040f7f651d0198\u003c/a\u003e\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T04:43:13Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132455305","id":1132455305,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df-WJ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132455305/reactions"},"updated_at":"2022-05-20T04:43:13Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132455305","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"その他の情報についてもオプションページで指定できるように変更する","bodyHTML":"\u003cp\u003eその他の情報についてもオプションページで指定できるように変更する\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T04:44:42Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132456069","id":1132456069,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Df-iF","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132456069/reactions"},"updated_at":"2022-05-20T04:44:42Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132456069","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"![CleanShot 2022-05-20 at 13 55 01](https://user-images.githubusercontent.com/61409641/169453303-ad09080c-38a2-4b56-a856-e7ea3e67cc3b.png)\r\n\r\nとりあえず枠だけ作成する","bodyHTML":"\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/169453303-ad09080c-38a2-4b56-a856-e7ea3e67cc3b.png\" alt=\"CleanShot 2022-05-20 at 13 55 01\"\u003e\u003c/p\u003e\n\u003cp\u003eとりあえず枠だけ作成する\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T04:55:18Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132470336","id":1132470336,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DgCBA","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132470336/reactions"},"updated_at":"2022-05-20T04:55:18Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132470336","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"全部オプションページを使用した値を使って設定できるようになった。","bodyHTML":"\u003cp\u003e全部オプションページを使用した値を使って設定できるようになった。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T05:22:35Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132485377","id":1132485377,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DgFsB","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132485377/reactions"},"updated_at":"2022-05-20T05:22:35Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132485377","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"あとはちゃんとスタイルを当てるか。ViteでTailwindCSSでやるならこれかな〜\r\n[Install Tailwind CSS with Vue 3 and Vite \\- Tailwind CSS](https://tailwindcss.com/docs/guides/vite)","bodyHTML":"\u003cp\u003eあとはちゃんとスタイルを当てるか。ViteでTailwindCSSでやるならこれかな〜\u003cbr\u003e\n\u003ca href=\"https://tailwindcss.com/docs/guides/vite\" rel=\"nofollow\"\u003eInstall Tailwind CSS with Vue 3 and Vite - Tailwind CSS\u003c/a\u003e\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T05:25:17Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132486946","id":1132486946,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DgGEi","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132486946/reactions"},"updated_at":"2022-05-20T05:25:17Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132486946","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"デザインはざっくりにして、buildをする\n\n```bash\n$ npm run build\n\n\nsrc/App.vue:17:70 - error TS2304: Cannot find name 'chrome'.\n\n17   const { accessToken, teamName, diaryCategory, templateId } = await chrome.storage.sync.get([\n                                                                        ~~~~~~\n\nsrc/App.vue:32:29 - error TS2322: Type '{}' is not assignable to type 'string'.\n\n32     \u003ca class=\"text-center\" :href=\"diaryUrl\"\u003e今日の\u003cbr\u003eesa\u003c/a\u003e\n                               ~~~~\n\n  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3\n    481   href?: string\n          ~~~~\n    The expected type comes from property 'href' which is declared here on type 'ElementAttrs\u003cAnchorHTMLAttributes\u003e'\n\n\nFound 2 errors in the same file, starting at: src/App.vue:17\n```\n\nとりあえずchrome関連については、chromeのtypesを追加する\n\n```bash\nnpm install --save-dev @types/chrome\n```\n\nこれで再度buildする\n\n```bash\n\nsrc/App.vue:32:29 - error TS2322: Type '{}' is not assignable to type 'string'.\n\n32     \u003ca class=\"text-center\" :href=\"diaryUrl\"\u003e今日の\u003cbr\u003eesa\u003c/a\u003e\n                               ~~~~\n\n  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3\n    481   href?: string\n          ~~~~\n    The expected type comes from property 'href' which is declared here on type 'ElementAttrs\u003cAnchorHTMLAttributes\u003e'\n\n\nFound 1 error in src/App.vue:32\n```\n\n`{}`に対してstringを代入することはできないよってか？\n\n```typescript\n// before\nconst diaryUrl = ref({})\n\n// after\nconst diaryUrl = ref('')\n```\n\nこれで解決しました。\n","bodyHTML":"\u003cp\u003eデザインはざっくりにして、buildをする\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run build\n\n\nsrc/App.vue:17:70 - error TS2304: Cannot \u003cspan class=\"token function\"\u003efind\u003c/span\u003e name \u003cspan class=\"token string\"\u003e'chrome'\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"token number\"\u003e17\u003c/span\u003e   const \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e accessToken, teamName, diaryCategory, templateId \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e await chrome.storage.sync.get\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n                                                                        ~~~~~~\n\nsrc/App.vue:32:29 - error TS2322: Type \u003cspan class=\"token string\"\u003e'{}'\u003c/span\u003e is not assignable to \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e \u003cspan class=\"token string\"\u003e'string'\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"token number\"\u003e32\u003c/span\u003e     \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003ea \u003cspan class=\"token assign-left variable\"\u003eclass\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"text-center\"\u003c/span\u003e :href\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"diaryUrl\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e今日の\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003ebr\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003eesa\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e/a\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n                               ~~~~\n\n  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3\n    \u003cspan class=\"token number\"\u003e481\u003c/span\u003e   href?: string\n          ~~~~\n    The expected \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e comes from property \u003cspan class=\"token string\"\u003e'href'\u003c/span\u003e \u003cspan class=\"token function\"\u003ewhich\u003c/span\u003e is declared here on \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e \u003cspan class=\"token string\"\u003e'ElementAttrs\u0026lt;AnchorHTMLAttributes\u003e'\u003c/span\u003e\n\n\nFound \u003cspan class=\"token number\"\u003e2\u003c/span\u003e errors \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e the same file, starting at: src/App.vue:17\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eとりあえずchrome関連については、chromeのtypesを追加する\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e --save-dev @types/chrome\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこれで再度buildする\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\nsrc/App.vue:32:29 - error TS2322: Type \u003cspan class=\"token string\"\u003e'{}'\u003c/span\u003e is not assignable to \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e \u003cspan class=\"token string\"\u003e'string'\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"token number\"\u003e32\u003c/span\u003e     \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003ea \u003cspan class=\"token assign-left variable\"\u003eclass\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"text-center\"\u003c/span\u003e :href\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"diaryUrl\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e今日の\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003ebr\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003eesa\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e/a\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n                               ~~~~\n\n  node_modules/@vue/runtime-dom/dist/runtime-dom.d.ts:481:3\n    \u003cspan class=\"token number\"\u003e481\u003c/span\u003e   href?: string\n          ~~~~\n    The expected \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e comes from property \u003cspan class=\"token string\"\u003e'href'\u003c/span\u003e \u003cspan class=\"token function\"\u003ewhich\u003c/span\u003e is declared here on \u003cspan class=\"token builtin class-name\"\u003etype\u003c/span\u003e \u003cspan class=\"token string\"\u003e'ElementAttrs\u0026lt;AnchorHTMLAttributes\u003e'\u003c/span\u003e\n\n\nFound \u003cspan class=\"token number\"\u003e1\u003c/span\u003e error \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e src/App.vue:32\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003e{}\u003c/code\u003eに対してstringを代入することはできないよってか？\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token comment\"\u003e// before\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e diaryUrl \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// after\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e diaryUrl \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこれで解決しました。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T08:27:16Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132626784","id":1132626784,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DgoNg","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132626784/reactions"},"updated_at":"2022-05-20T08:27:16Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132626784","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"今日の分のdiaryがGitHub Pagesに反映されていないのは何故だろう？GitHub Actionsは問題なさそうなんだけどね。","bodyHTML":"\u003cp\u003e今日の分のdiaryがGitHub Pagesに反映されていないのは何故だろう？GitHub Actionsは問題なさそうなんだけどね。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T08:31:12Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132630501","id":1132630501,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DgpHl","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132630501/reactions"},"updated_at":"2022-05-20T08:31:12Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132630501","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"最初のコメントを編集したら連携された。本家の方も連携されていなかったっぽいので、構造的に問題があるのかな？","bodyHTML":"\u003cp\u003e最初のコメントを編集したら連携された。本家の方も連携されていなかったっぽいので、構造的に問題があるのかな？\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T11:29:57Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132791885","id":1132791885,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5DhQhN","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132791885/reactions"},"updated_at":"2022-05-20T11:29:57Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132791885","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"![CleanShot 2022-05-20 at 21 45 46](https://user-images.githubusercontent.com/61409641/169530858-f4879405-62dc-4756-9921-f945c29d8ddf.png)\r\n\r\nhttps://apps.apple.com/jp/app/moom/id419330170?mt=12\r\n\r\nMoomという画面分割アプリを買った。1500円くらい。\r\nアプリの画面配置を覚えてくれるので、Twitter用ChromerとterminalとメインChromeみたいな構成を保持できて便利。結構ストレスだったので買ってよかった","bodyHTML":"\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/169530858-f4879405-62dc-4756-9921-f945c29d8ddf.png\" alt=\"CleanShot 2022-05-20 at 21 45 46\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fapps.apple.com%2Fjp%2Fapp%2Fmoom%2Fid419330170%3Fmt%3D12\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://apps.apple.com/jp/app/moom/id419330170?mt=12\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://apps.apple.com/jp/app/moom/id419330170?mt=12\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eMoomという画面分割アプリを買った。1500円くらい。\u003cbr\u003e\nアプリの画面配置を覚えてくれるので、Twitter用ChromerとterminalとメインChromeみたいな構成を保持できて便利。結構ストレスだったので買ってよかった\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-05-20T12:47:21Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/6#issuecomment-1132862140","id":1132862140,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/6","node_id":"IC_kwDOHWTPVs5Dhhq8","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132862140/reactions"},"updated_at":"2022-05-20T12:47:21Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1132862140","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"6"},"buildId":"--44Tmhd8zYdbPoWSVlS8","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>