<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-06-26</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/d865616645a7b0fe.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/d865616645a7b0fe.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/fc9624fd4a486ef2.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/fc9624fd4a486ef2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-dc4034d98607b727.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/nvS6paJKmJiip5jkQaQHR/_buildManifest.js" defer=""></script><script src="/diary/_next/static/nvS6paJKmJiip5jkQaQHR/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/nvS6paJKmJiip5jkQaQHR/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-26T04:23:42Z" title="2022-06-26T04:23:42Z">2022-06-26 04:06:00</time><h1 class="font-bold text-slate-600">2022-06-26</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/43">#43</a>.<!-- --></p></aside><div></div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-26T04:59:51Z" title="2022-06-26T04:59:51Z">2022-06-26 04:06:00</time></header><div><h1 id="vue%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btypescript%E3%81%AE%E5%AE%9A%E7%BE%A9"><a class="header-anchor-link" href="#vue%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btypescript%E3%81%AE%E5%AE%9A%E7%BE%A9" aria-hidden="true" rel="nofollow"></a> VueにおけるTypeScriptの定義</h1>
<p>いまいち適当にやっている部分があるんで、ドキュメントに載っている部分から中心に学習する。</p>
<p>環境は前回の反省を踏まえてStackBlitzでやる</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fvitejs-vite-kzftqc%3Ffile%3Dindex.html%26terminal%3Ddev" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://stackblitz.com/edit/vitejs-vite-kzftqc?file=index.html&amp;terminal=dev" style="display: none" rel="nofollow">https://stackblitz.com/edit/vitejs-vite-kzftqc?file=index.html&amp;terminal=dev</a></p>
<p>ドキュメントはまずはここかな？</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Foverview.html" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://vuejs.org/guide/typescript/overview.html" style="display: none" rel="nofollow">https://vuejs.org/guide/typescript/overview.html</a></p>
<h2 id="%E6%A6%82%E8%A6%81"><a class="header-anchor-link" href="#%E6%A6%82%E8%A6%81" aria-hidden="true" rel="nofollow"></a> 概要</h2>
<blockquote>
<p>With a Vite-based setup, the dev server and the bundler are transpilation-only and do not perform any type-checking. This ensures the Vite dev server stays blazing fast even when using TypeScript.</p>
</blockquote>
<p>今Viteで環境作っているけど、Viteの場合はトランスパイルしかしないから速いって。だからその分、型エラーはIDEでやってくれってさ。<br>
VSCodeでやってもInteliJ系でやってもサポートは受けられるみたい。</p>
<blockquote>
<p>If using SFCs, use the vue-tsc utility for command line type checking and type declaration generation. vue-tsc is a wrapper around tsc, TypeScript's own command line interface. It works largely the same as tsc except that it supports Vue SFCs in addition to TypeScript files. You can run vue-tsc in watch mode in parallel to the Vite dev server.</p>
</blockquote>
<p>vue-tscってのがあって、これがtscのラッパーなんだと。SFCに対してはこれで型チェックができるそう。</p>
<blockquote>
<p>Takeover Mode<br>
This section only applies for VSCode + Volar.</p>
</blockquote>
<p>そんなのがあるんだ。VSCode強しだ。まあスキップします。</p>
<h2 id="%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9"><a class="header-anchor-link" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true" rel="nofollow"></a> 基本的な使い方</h2>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Foverview.html%23general-usage-notes" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://vuejs.org/guide/typescript/overview.html#general-usage-notes" style="display: none" rel="nofollow">https://vuejs.org/guide/typescript/overview.html#general-usage-notes</a></p>
<p>ここから本題って感じだ。</p>
<h3 id="definecomponent()"><a class="header-anchor-link" href="#definecomponent()" aria-hidden="true" rel="nofollow"></a> defineComponent()</h3>
<p>TypeScriptに対して、コンポーネント内のオプションに対して適切に型を参照させるために使用する。</p>
<p>サンプルみる感じだと、<code>script setup</code>を使用する時には<code>defineComponent</code>は必要ない。</p>
<p>型チェックは<code>template</code>内に対しても実行されるみたい。</p>
<hr>
<p>...StackBlitzでやっちゃうとIDEでやっている型チェックが走らないので意味ないじゃん<br>
結局ローカルで環境を作り直す。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-26T05:43:04Z" title="2022-06-26T05:43:04Z">2022-06-26 05:06:00</time></header><div><h2 id="composition-api%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%9E%8B%E5%AE%9A%E7%BE%A9"><a class="header-anchor-link" href="#composition-api%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%9E%8B%E5%AE%9A%E7%BE%A9" aria-hidden="true" rel="nofollow"></a> Composition APIにおける型定義</h2>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Fcomposition-api.html" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://vuejs.org/guide/typescript/composition-api.html" style="display: none" rel="nofollow">https://vuejs.org/guide/typescript/composition-api.html</a></p>
<h3 id="props"><a class="header-anchor-link" href="#props" aria-hidden="true" rel="nofollow"></a> props</h3>
<p><code>script setup</code>を使用するのが基本系。</p>
<p><code>defineProps</code>マクロを使用したpropsの定義は</p>
<ol>
<li>runtime declaration</li>
<li>type-based declaration</li>
</ol>
<p>の2種類ある。</p>
<p>どちらを使っても良いが、使用するのはどちらか一方のみ。</p>
<p>一方で単純に型定義としてpropsを定義することもできる。これが一番楽なんでは。</p>
<p><code>defineProps</code>マクロをGenericありで使用する場合（type-based declaration?）、以下の制約がある。</p>
<ul>
<li>objectリテラルか、<strong>同じファイルの</strong>objectリテラルもしくはinterfaceへの参照</li>
</ul>
<p>これはVueのコンポーネントはそれぞれ別々にコンパイルされるから。そのうち撤廃されるそう。</p>
<p><code>script setup</code>を使用しない場合hは、<code>defineComponent</code>を使用する必要がある。propsの型はsetup内のpropsオプションで定義される。</p>
<h3 id="emit"><a class="header-anchor-link" href="#emit" aria-hidden="true" rel="nofollow"></a> emit</h3>
<p>emitも<code>script setup</code>を使用していれば、<code>defineEmits</code>マクロを使用できる。</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// runtime</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'update'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// type-based</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> defineEmits<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token string">'update'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre></div><h3 id="ref()"><a class="header-anchor-link" href="#ref()" aria-hidden="true" rel="nofollow"></a> ref()</h3>
<ul>
<li>初期値から型を推論する</li>
<li><code>Ref</code>型を使用して、もしくは<code>ref</code>に型引数をつけることで、複雑な型を表現することができる。</li>
</ul>
<div class="code-block-container"><pre class="language-html"><code class="language-html">import { ref } from 'vue'
import type { Ref } from 'vue'

const year: Ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">></span></span> = ref('2020')

year.value = 2020 // ok!
</code></pre></div><div class="code-block-container"><pre class="language-html"><code class="language-html">// resulting type: Ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">></span></span>
const year = ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">></span></span>('2020')

year.value = 2020 // ok!
</code></pre></div><p>初期値が未設定で型引数をつけた場合、<code>Ref&lt;generic | undefined&gt;</code>になる</p>
<h3 id="computed()"><a class="header-anchor-link" href="#computed()" aria-hidden="true" rel="nofollow"></a> computed()</h3>
<p>getterの戻り値から型を推論する</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html">import { ref, computed } from 'vue'

const count = ref(0)

// inferred type: ComputedRef<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span>
const double = computed(() => count.value * 2)
</code></pre></div><p>特定の型を型引数に指定することもできる</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html">const double = computed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span>(() => {
  return count.value * 2
})
</code></pre></div><h3 id="%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9"><a class="header-anchor-link" href="#%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9" aria-hidden="true" rel="nofollow"></a> イベントハンドラ</h3>
<p>ネイティブのDOMイベントを扱っている場合、ハンドラに渡す引数がを正しく定義した方がいいケースがある。</p>
<p>event引数は基本的に暗黙のanyを持っているので<code>Event</code>を、内部的な値は適切な型アサーションを定義するのが良い。</p>
<h3 id="%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%8F%82%E7%85%A7"><a class="header-anchor-link" href="#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%8F%82%E7%85%A7" aria-hidden="true" rel="nofollow"></a> テンプレート参照</h3>
<p>テンプレート参照は明示的に型引数と初期値nullで定義するべき。</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html">const el = ref<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTMLInputElement</span> <span class="token attr-name">|</span> <span class="token attr-name">null</span><span class="token punctuation">></span></span>(null)
</code></pre></div><p>コンポーネントがマウントされるまでは初期値はnullで、v-ifによって参照されている要素がアンマウントされた場合にも、nullに設定される可能性がある。</p>
<p>そのため、上記elの要素el.valueにアクセスするためには、オプショナルチェーンや型ガードが必要。</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-26T12:22:03Z" title="2022-06-26T12:22:03Z">2022-06-26 12:06:00</time></header><div><p>Origin解体新書を読む</p>
<p>有料書籍なのでキーワードだけメモ</p>
<ul>
<li>Same Origin Policy</li>
<li>Preflight Request</li>
<li>Access-Control-Allow-Origin</li>
<li>Access-Control-Allow-Methods</li>
<li>Round Trip Time: RTT</li>
<li>Access-Control-Allow-Methods</li>
<li>Access-Control-Expose-Headers</li>
<li>JSONP</li>
<li>documnet.domain</li>
<li>WebSocket</li>
<li>Service Worker</li>
<li>Opaque Filtered Response</li>
</ul>
<p>50分で一旦リタイア。来週読みます。</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43/comments","created_at":"2022-06-26T04:23:42Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/43","id":1284797942,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5MlHX2","number":43,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43/timeline","title":"2022-06-26","updated_at":"2022-06-26T04:23:42Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"# VueにおけるTypeScriptの定義\n\nいまいち適当にやっている部分があるんで、ドキュメントに載っている部分から中心に学習する。\n\n環境は前回の反省を踏まえてStackBlitzでやる\n\nhttps://stackblitz.com/edit/vitejs-vite-kzftqc?file=index.html\u0026terminal=dev\n\nドキュメントはまずはここかな？\n\nhttps://vuejs.org/guide/typescript/overview.html\n\n## 概要\n\n\u003e With a Vite-based setup, the dev server and the bundler are transpilation-only and do not perform any type-checking. This ensures the Vite dev server stays blazing fast even when using TypeScript.\n\n今Viteで環境作っているけど、Viteの場合はトランスパイルしかしないから速いって。だからその分、型エラーはIDEでやってくれってさ。\nVSCodeでやってもInteliJ系でやってもサポートは受けられるみたい。\n\n\n\u003e If using SFCs, use the vue-tsc utility for command line type checking and type declaration generation. vue-tsc is a wrapper around tsc, TypeScript's own command line interface. It works largely the same as tsc except that it supports Vue SFCs in addition to TypeScript files. You can run vue-tsc in watch mode in parallel to the Vite dev server.\n\nvue-tscってのがあって、これがtscのラッパーなんだと。SFCに対してはこれで型チェックができるそう。\n\n\u003e Takeover Mode\n\u003e This section only applies for VSCode + Volar.\n\nそんなのがあるんだ。VSCode強しだ。まあスキップします。\n\n## 基本的な使い方\n\nhttps://vuejs.org/guide/typescript/overview.html#general-usage-notes\n\nここから本題って感じだ。\n\n### defineComponent()\n\nTypeScriptに対して、コンポーネント内のオプションに対して適切に型を参照させるために使用する。\n\nサンプルみる感じだと、`script setup`を使用する時には`defineComponent`は必要ない。\n\n型チェックは`template`内に対しても実行されるみたい。\n\n---\n\n...StackBlitzでやっちゃうとIDEでやっている型チェックが走らないので意味ないじゃん\n結局ローカルで環境を作り直す。\n\n\n","bodyHTML":"\u003ch1 id=\"vue%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btypescript%E3%81%AE%E5%AE%9A%E7%BE%A9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#vue%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btypescript%E3%81%AE%E5%AE%9A%E7%BE%A9\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e VueにおけるTypeScriptの定義\u003c/h1\u003e\n\u003cp\u003eいまいち適当にやっている部分があるんで、ドキュメントに載っている部分から中心に学習する。\u003c/p\u003e\n\u003cp\u003e環境は前回の反省を踏まえてStackBlitzでやる\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fvitejs-vite-kzftqc%3Ffile%3Dindex.html%26terminal%3Ddev\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://stackblitz.com/edit/vitejs-vite-kzftqc?file=index.html\u0026amp;terminal=dev\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://stackblitz.com/edit/vitejs-vite-kzftqc?file=index.html\u0026amp;terminal=dev\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eドキュメントはまずはここかな？\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Foverview.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://vuejs.org/guide/typescript/overview.html\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://vuejs.org/guide/typescript/overview.html\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"%E6%A6%82%E8%A6%81\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E6%A6%82%E8%A6%81\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 概要\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWith a Vite-based setup, the dev server and the bundler are transpilation-only and do not perform any type-checking. This ensures the Vite dev server stays blazing fast even when using TypeScript.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e今Viteで環境作っているけど、Viteの場合はトランスパイルしかしないから速いって。だからその分、型エラーはIDEでやってくれってさ。\u003cbr\u003e\nVSCodeでやってもInteliJ系でやってもサポートは受けられるみたい。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf using SFCs, use the vue-tsc utility for command line type checking and type declaration generation. vue-tsc is a wrapper around tsc, TypeScript's own command line interface. It works largely the same as tsc except that it supports Vue SFCs in addition to TypeScript files. You can run vue-tsc in watch mode in parallel to the Vite dev server.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003evue-tscってのがあって、これがtscのラッパーなんだと。SFCに対してはこれで型チェックができるそう。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTakeover Mode\u003cbr\u003e\nThis section only applies for VSCode + Volar.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eそんなのがあるんだ。VSCode強しだ。まあスキップします。\u003c/p\u003e\n\u003ch2 id=\"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 基本的な使い方\u003c/h2\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Foverview.html%23general-usage-notes\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://vuejs.org/guide/typescript/overview.html#general-usage-notes\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://vuejs.org/guide/typescript/overview.html#general-usage-notes\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eここから本題って感じだ。\u003c/p\u003e\n\u003ch3 id=\"definecomponent()\"\u003e\u003ca class=\"header-anchor-link\" href=\"#definecomponent()\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e defineComponent()\u003c/h3\u003e\n\u003cp\u003eTypeScriptに対して、コンポーネント内のオプションに対して適切に型を参照させるために使用する。\u003c/p\u003e\n\u003cp\u003eサンプルみる感じだと、\u003ccode\u003escript setup\u003c/code\u003eを使用する時には\u003ccode\u003edefineComponent\u003c/code\u003eは必要ない。\u003c/p\u003e\n\u003cp\u003e型チェックは\u003ccode\u003etemplate\u003c/code\u003e内に対しても実行されるみたい。\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e...StackBlitzでやっちゃうとIDEでやっている型チェックが走らないので意味ないじゃん\u003cbr\u003e\n結局ローカルで環境を作り直す。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-26T04:59:51Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/43#issuecomment-1166418192","id":1166418192,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43","node_id":"IC_kwDOHWTPVs5FhiEQ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166418192/reactions"},"updated_at":"2022-06-26T04:59:51Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166418192","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"## Composition APIにおける型定義\n\nhttps://vuejs.org/guide/typescript/composition-api.html\n\n### props\n\n`script setup`を使用するのが基本系。\n\n`defineProps`マクロを使用したpropsの定義は\n\n1. runtime declaration\n2. type-based declaration\n\nの2種類ある。\n\nどちらを使っても良いが、使用するのはどちらか一方のみ。\n\n一方で単純に型定義としてpropsを定義することもできる。これが一番楽なんでは。\n\n`defineProps`マクロをGenericありで使用する場合（type-based declaration?）、以下の制約がある。\n\n- objectリテラルか、**同じファイルの**objectリテラルもしくはinterfaceへの参照\n\nこれはVueのコンポーネントはそれぞれ別々にコンパイルされるから。そのうち撤廃されるそう。\n\n`script setup`を使用しない場合hは、`defineComponent`を使用する必要がある。propsの型はsetup内のpropsオプションで定義される。\n\n### emit\n\nemitも`script setup`を使用していれば、`defineEmits`マクロを使用できる。\n\n```vue\n\u003cscript setup lang=\"ts\"\u003e\n// runtime\nconst emit = defineEmits(['change', 'update'])\n\n// type-based\nconst emit = defineEmits\u003c{\n  (e: 'change', id: number): void\n  (e: 'update', value: string): void\n}\u003e()\n\u003c/script\u003e\n```\n\n### ref()\n\n- 初期値から型を推論する\n- `Ref`型を使用して、もしくは`ref`に型引数をつけることで、複雑な型を表現することができる。\n\n```vue\nimport { ref } from 'vue'\nimport type { Ref } from 'vue'\n\nconst year: Ref\u003cstring | number\u003e = ref('2020')\n\nyear.value = 2020 // ok!\n```\n\n```vue\n// resulting type: Ref\u003cstring | number\u003e\nconst year = ref\u003cstring | number\u003e('2020')\n\nyear.value = 2020 // ok!\n```\n\n初期値が未設定で型引数をつけた場合、`Ref\u003cgeneric | undefined\u003e`になる\n\n### computed()\n\ngetterの戻り値から型を推論する\n\n```vue\nimport { ref, computed } from 'vue'\n\nconst count = ref(0)\n\n// inferred type: ComputedRef\u003cnumber\u003e\nconst double = computed(() =\u003e count.value * 2)\n```\n\n特定の型を型引数に指定することもできる\n\n```vue\nconst double = computed\u003cnumber\u003e(() =\u003e {\n  return count.value * 2\n})\n```\n\n### イベントハンドラ\n\nネイティブのDOMイベントを扱っている場合、ハンドラに渡す引数がを正しく定義した方がいいケースがある。\n\nevent引数は基本的に暗黙のanyを持っているので`Event`を、内部的な値は適切な型アサーションを定義するのが良い。\n\n\n### テンプレート参照\n\nテンプレート参照は明示的に型引数と初期値nullで定義するべき。\n\n```vue\nconst el = ref\u003cHTMLInputElement | null\u003e(null)\n```\n\nコンポーネントがマウントされるまでは初期値はnullで、v-ifによって参照されている要素がアンマウントされた場合にも、nullに設定される可能性がある。\n\nそのため、上記elの要素el.valueにアクセスするためには、オプショナルチェーンや型ガードが必要。\n\n\n\n","bodyHTML":"\u003ch2 id=\"composition-api%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%9E%8B%E5%AE%9A%E7%BE%A9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#composition-api%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%9E%8B%E5%AE%9A%E7%BE%A9\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e Composition APIにおける型定義\u003c/h2\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fvuejs.org%2Fguide%2Ftypescript%2Fcomposition-api.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://vuejs.org/guide/typescript/composition-api.html\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://vuejs.org/guide/typescript/composition-api.html\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"props\"\u003e\u003ca class=\"header-anchor-link\" href=\"#props\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e props\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003escript setup\u003c/code\u003eを使用するのが基本系。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edefineProps\u003c/code\u003eマクロを使用したpropsの定義は\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eruntime declaration\u003c/li\u003e\n\u003cli\u003etype-based declaration\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eの2種類ある。\u003c/p\u003e\n\u003cp\u003eどちらを使っても良いが、使用するのはどちらか一方のみ。\u003c/p\u003e\n\u003cp\u003e一方で単純に型定義としてpropsを定義することもできる。これが一番楽なんでは。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edefineProps\u003c/code\u003eマクロをGenericありで使用する場合（type-based declaration?）、以下の制約がある。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eobjectリテラルか、\u003cstrong\u003e同じファイルの\u003c/strong\u003eobjectリテラルもしくはinterfaceへの参照\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれはVueのコンポーネントはそれぞれ別々にコンパイルされるから。そのうち撤廃されるそう。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003escript setup\u003c/code\u003eを使用しない場合hは、\u003ccode\u003edefineComponent\u003c/code\u003eを使用する必要がある。propsの型はsetup内のpropsオプションで定義される。\u003c/p\u003e\n\u003ch3 id=\"emit\"\u003e\u003ca class=\"header-anchor-link\" href=\"#emit\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e emit\u003c/h3\u003e\n\u003cp\u003eemitも\u003ccode\u003escript setup\u003c/code\u003eを使用していれば、\u003ccode\u003edefineEmits\u003c/code\u003eマクロを使用できる。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003escript\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esetup\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elang\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ets\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token script\"\u003e\u003cspan class=\"token language-javascript\"\u003e\n\u003cspan class=\"token comment\"\u003e// runtime\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e emit \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edefineEmits\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'change'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'update'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// type-based\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e emit \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e defineEmits\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ee\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'change'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003eid\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e number\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ee\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'update'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e string\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"ref()\"\u003e\u003ca class=\"header-anchor-link\" href=\"#ref()\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e ref()\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e初期値から型を推論する\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eRef\u003c/code\u003e型を使用して、もしくは\u003ccode\u003eref\u003c/code\u003eに型引数をつけることで、複雑な型を表現することができる。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003eimport { ref } from 'vue'\nimport type { Ref } from 'vue'\n\nconst year: Ref\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003estring\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e|\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e = ref('2020')\n\nyear.value = 2020 // ok!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e// resulting type: Ref\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003estring\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e|\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\nconst year = ref\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003estring\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e|\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e('2020')\n\nyear.value = 2020 // ok!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e初期値が未設定で型引数をつけた場合、\u003ccode\u003eRef\u0026lt;generic | undefined\u0026gt;\u003c/code\u003eになる\u003c/p\u003e\n\u003ch3 id=\"computed()\"\u003e\u003ca class=\"header-anchor-link\" href=\"#computed()\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e computed()\u003c/h3\u003e\n\u003cp\u003egetterの戻り値から型を推論する\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003eimport { ref, computed } from 'vue'\n\nconst count = ref(0)\n\n// inferred type: ComputedRef\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\nconst double = computed(() =\u003e count.value * 2)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e特定の型を型引数に指定することもできる\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003econst double = computed\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e(() =\u003e {\n  return count.value * 2\n})\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e イベントハンドラ\u003c/h3\u003e\n\u003cp\u003eネイティブのDOMイベントを扱っている場合、ハンドラに渡す引数がを正しく定義した方がいいケースがある。\u003c/p\u003e\n\u003cp\u003eevent引数は基本的に暗黙のanyを持っているので\u003ccode\u003eEvent\u003c/code\u003eを、内部的な値は適切な型アサーションを定義するのが良い。\u003c/p\u003e\n\u003ch3 id=\"%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%8F%82%E7%85%A7\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E5%8F%82%E7%85%A7\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e テンプレート参照\u003c/h3\u003e\n\u003cp\u003eテンプレート参照は明示的に型引数と初期値nullで定義するべき。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003econst el = ref\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003eHTMLInputElement\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e|\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e(null)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eコンポーネントがマウントされるまでは初期値はnullで、v-ifによって参照されている要素がアンマウントされた場合にも、nullに設定される可能性がある。\u003c/p\u003e\n\u003cp\u003eそのため、上記elの要素el.valueにアクセスするためには、オプショナルチェーンや型ガードが必要。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-26T05:43:04Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/43#issuecomment-1166422820","id":1166422820,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43","node_id":"IC_kwDOHWTPVs5FhjMk","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166422820/reactions"},"updated_at":"2022-06-26T05:43:04Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166422820","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"Origin解体新書を読む\n\n有料書籍なのでキーワードだけメモ\n\n- Same Origin Policy\n- Preflight Request\n- Access-Control-Allow-Origin\n- Access-Control-Allow-Methods\n- Round Trip Time: RTT\n- Access-Control-Allow-Methods\n- Access-Control-Expose-Headers\n- JSONP\n- documnet.domain\n- WebSocket\n- Service Worker\n- Opaque Filtered Response\n\n50分で一旦リタイア。来週読みます。\n","bodyHTML":"\u003cp\u003eOrigin解体新書を読む\u003c/p\u003e\n\u003cp\u003e有料書籍なのでキーワードだけメモ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSame Origin Policy\u003c/li\u003e\n\u003cli\u003ePreflight Request\u003c/li\u003e\n\u003cli\u003eAccess-Control-Allow-Origin\u003c/li\u003e\n\u003cli\u003eAccess-Control-Allow-Methods\u003c/li\u003e\n\u003cli\u003eRound Trip Time: RTT\u003c/li\u003e\n\u003cli\u003eAccess-Control-Allow-Methods\u003c/li\u003e\n\u003cli\u003eAccess-Control-Expose-Headers\u003c/li\u003e\n\u003cli\u003eJSONP\u003c/li\u003e\n\u003cli\u003edocumnet.domain\u003c/li\u003e\n\u003cli\u003eWebSocket\u003c/li\u003e\n\u003cli\u003eService Worker\u003c/li\u003e\n\u003cli\u003eOpaque Filtered Response\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e50分で一旦リタイア。来週読みます。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-26T12:22:03Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/43#issuecomment-1166516077","id":1166516077,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/43","node_id":"IC_kwDOHWTPVs5Fh59t","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166516077/reactions"},"updated_at":"2022-06-26T12:22:03Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1166516077","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"43"},"buildId":"nvS6paJKmJiip5jkQaQHR","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>