<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-08-22</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/d865616645a7b0fe.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/d865616645a7b0fe.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/fc9624fd4a486ef2.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/fc9624fd4a486ef2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-dc4034d98607b727.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/mA4vYlTO00MVrCClLpn5p/_buildManifest.js" defer=""></script><script src="/diary/_next/static/mA4vYlTO00MVrCClLpn5p/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/mA4vYlTO00MVrCClLpn5p/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-08-22T07:52:20Z" title="2022-08-22T07:52:20Z">2022-08-22 07:08:00</time><h1 class="font-bold text-slate-600">2022-08-22</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/70">#70</a>.<!-- --></p></aside><div></div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-08-22T11:47:14Z" title="2022-08-22T11:47:14Z">2022-08-22 11:08:00</time></header><div><p>kaiyuさんにおすすめしてもらったので読む。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fwww.amazon.co.jp%2FE6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA%2Fdp%2F477419381X%2Fref%3Ddp_ob_title_bk" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://www.amazon.co.jp/E6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA/dp/477419381X/ref=dp_ob_title_bk" style="display: none" rel="nofollow">https://www.amazon.co.jp/E6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA/dp/477419381X/ref=dp_ob_title_bk</a></p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-08-22T11:48:59Z" title="2022-08-22T11:48:59Z">2022-08-22 11:08:00</time></header><div><p>&lt;img width=&quot;676&quot; alt=&quot;image&quot; src=&quot;<a href="https://user-images.githubusercontent.com/61409641/185914079-67dd3045-6287-4ef3-99f2-e70b12b4042f.png" rel="nofollow">https://user-images.githubusercontent.com/61409641/185914079-67dd3045-6287-4ef3-99f2-e70b12b4042f.png</a>&quot;&gt;</p>
<blockquote>
<p>Cはなんでこんな言語ん「なっちゃった」のか。</p>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/61409641/185914183-da1dba92-7883-4ccb-b9bc-66a37427bb3d.png" alt="image"></p>
<blockquote>
<p>Cのポインタがわからないのは、あなたが悪いわけじゃなく、単に、Cの文法がクソなだけだよ!!<br>
前橋 和弥. 新・標準プログラマーズライブラリ C言語 ポインタ完全制覇 (Japanese Edition) (p.3). Kindle 版.</p>
</blockquote>
<p>のっけからめっちゃおもしろいな笑</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-08-22T12:05:26Z" title="2022-08-22T12:05:26Z">2022-08-22 12:08:00</time></header><div><blockquote>
<p>「なぜポインタというものが必要なんだろう？」と思うかもしれません</p>
</blockquote>
<p>まさに知りたいことだ。今日軽く説明してもらった感じでは「ミニ四駆に穴を開けたくなる感覚かな？」とかいってたけどどうなんでしょう。</p>
<h2 id="0%E7%AB%A0"><a class="header-anchor-link" href="#0%E7%AB%A0" aria-hidden="true" rel="nofollow"></a> 0章</h2>
<p>本書のガイドライン。Cの解説書ではないので、基本的なところは他でやってという感じみたい。</p>
<p>とりあえず動かせる方がよさそうなので、Playgroundを探してみたらあった。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fcplayground.com%2F" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://cplayground.com/" style="display: none" rel="nofollow">https://cplayground.com/</a></p>
<p>どうも5章では汎用的なデータ構造としてのポインタについて解説してくれるらしい。LeetCodeも捗りそう。</p>
<blockquote>
<p>プログラミング言語なんてのは、しょせん人間が考えた文法で構成されていて、コンパイラというプログラムで完全に解釈しうる程<br>
度のものです。<br>
「なんかみんなこう書いてるから、 同じように書きゃ動くだろ」<br>
では、やっぱりちょっと悲しいですよね。</p>
</blockquote>
<p>じーん。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=http%3A%2F%2Fkmaebashi.com%2Fseiha2%2Findex.html" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="http://kmaebashi.com/seiha2/index.html" style="display: none" rel="nofollow">http://kmaebashi.com/seiha2/index.html</a></p>
<p>サポートページ</p>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-08-22T22:46:35Z" title="2022-08-22T22:46:35Z">2022-08-22 22:08:00</time></header><div><h2 id="1%E7%AB%A0"><a class="header-anchor-link" href="#1%E7%AB%A0" aria-hidden="true" rel="nofollow"></a> 1章</h2>
<p>Cはもともとアセンブラの代替品だったそうな。ここら辺の経緯って全然知らんからこれだけでためになるな。</p>
<p>C99が1999年に定められたCの規格で、C11が2011年に定められたCの規格。</p>
<p><strong>Keep the spirit of C</strong></p>
<p>・プログラマーを信じなさい (Trust the programmer.)<br>
・プログラマーが、 理由があって何かをしようとしているとき、それを妨げてはいけない (Don't prevent the programmer from doing what needs to be done.)<br>
・言語を小さく、シンプルに保とう (Keep the language small and simple.)<br>
・ある1つの操作のためには、たった1つの方法だけを提供しよう (Provide only one way to do an operation.)<br>
・たとえ移植性が保証されなくても、高速にしよう(Make it fast, even if it is not guaranteed to be portable.)</p>
<blockquote>
<p>Cは、プログラマーは全知全能であるという理念のもとに設計されています。</p>
</blockquote>
<p>なるほど、もともとアセンブラの代用としてUNIXのツヨツヨエンジニアが自分達のために作ったから、安全性とかはどうでもよくて、コンパイラを簡単に実装できるかと高速なコードを書けるかが売りなんだな。</p>
<hr>
<p>アドレスはメモリの番地。変数を格納しているメモリ上の領域がオブジェクト、オブジェクトとして格納されるデータ型をオブジェクト型。</p>
<p>ポインタ型は他の型から派生することで存在する。これはGoのところの説明で読んだのと同じだと思う。</p>
<hr>
<blockquote>
<p>「*hoge_p」と書くとなんだか 「*hoge_p」 という変数を宣言しているように見えてしまうかもしれません。 しかしここで宣言している変数はあくまで、 hoge_pであり、その型が「intへのポインタ」型なのです。</p>
</blockquote>
<p>そう、これがよくわかんないからこの本読んでいる感もある。</p>
<div class="code-block-container"><pre class="language-c"><code class="language-c"><span class="token comment">// &amp;はアドレス演算子</span>
<span class="token comment">// %pでポインタの値を表示する</span>
<span class="token comment">// %pに対してはvoidへのポインタを指定することになってる</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;hoge..%p\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>hoge<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>アドレスがポインタ型の値そのもの。</p>
<p><em>は間接演算子。ポインタに</em>をつけることで、その指している先のものを表す。</p>
<p>あ〜、ポインタがアドレスを指すという感覚を頭の中でスッとイメージできると読みやすい。</p>
<p>とりあえずここまでは大丈夫そうだ！</p>
<hr>
<ul>
<li>&amp;や*は単項演算子</li>
<li>これらは演算子の結果の式に代入することができる（演算子の結果の色が左辺値であるという）</li>
</ul>
<div class="code-block-container"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token operator">*</span>hoge_p<span class="token punctuation">;</span>
</code></pre></div><p>これは演算子ではない！！！えええ...。これは区切り子の一つなんだと。</p>
<hr>
<p>コラムを読んでいる。</p>
<div class="code-block-container"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> hoge <span class="token comment">// 型 変数名</span>
<span class="token keyword">int</span> <span class="token operator">*</span>hoge_p <span class="token comment">// ポインタ型の宣言。</span>
<span class="token keyword">int</span><span class="token operator">*</span> hoge_p <span class="token comment">// ポインタ型の宣言を型 変数名になるようにしてみる形</span>
<span class="token keyword">int</span><span class="token operator">*</span> hoge_p<span class="token punctuation">,</span> fuga_p 複数の型宣言で破綻する
</code></pre></div><blockquote>
<p>なぜなら、Cの宣言の構文は、もうどうしようもないほど不自然で、 奇ッ怪で、変態的な構文なのですから。</p>
</blockquote>
<p>随所に出てくる筆者の主張が面白い笑</p>
<p>ここら辺の話、GoのブログのSyntaxについての記事にも同じような話があったような。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fgo.dev%2Fblog%2Fdeclaration-syntax" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://go.dev/blog/declaration-syntax" style="display: none" rel="nofollow">https://go.dev/blog/declaration-syntax</a></p>
<hr>
<p>ポインタ演算すると、そのアドレスはそのポインタが指す型のサイズだけ増加する。</p>
<hr>
<blockquote>
<p>Cのポインタについて説明すると、「なぜポインタなどというものを使わなければいけないのかがわからない」 と言う人がいます。</p>
</blockquote>
<p>速度やハードウェア密着のプログラムを書かなくても、ポインタは必須。例として、関数から複数の値を返す、配列アクセス、LinkedListのようなデータ構造を表現するといったことが挙げられている。</p>
<p>C言語では複数の値を返す場合、そのポインタを渡して、それを経由して値を書き込んでもらう（え？え？）</p>
<blockquote>
<p>Cでは、こういうことはポインタを使わない限り実現できません。</p>
</blockquote>
<p>Cにおける関数呼び出しでは引数を値渡ししている。だから関数側に実引数として渡したものは「値」だけが渡されて、その変数自体（つまりはアドレス値）は渡されない。</p>
<p>C++とかC#には参照渡しがあるけど、Cにはないので「ポインタを値渡し」する。</p>
<p><div class="embed-zenn-link"><iframe src="https://card.zenn.dev/?url=https%3A%2F%2Fmagazine.rubyist.net%2Farticles%2F0032%2F0032-CallByValueAndCallByReference.html" frameborder="0" scrolling="no" loading="lazy"></iframe></div><a href="https://magazine.rubyist.net/articles/0032/0032-CallByValueAndCallByReference.html" style="display: none" rel="nofollow">https://magazine.rubyist.net/articles/0032/0032-CallByValueAndCallByReference.html</a></p>
<p>これはRubyの解説記事。</p>
<hr>
<p>ちょっと集中が切れたので、配列は今日の夜にしよう</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70/comments","created_at":"2022-08-22T07:52:20Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/70","id":1345974226,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5QOe_S","number":70,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70/timeline","title":"2022-08-22","updated_at":"2022-08-22T07:52:20Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"kaiyuさんにおすすめしてもらったので読む。\n\nhttps://www.amazon.co.jp/E6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA/dp/477419381X/ref=dp_ob_title_bk\n\n","bodyHTML":"\u003cp\u003ekaiyuさんにおすすめしてもらったので読む。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fwww.amazon.co.jp%2FE6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA%2Fdp%2F477419381X%2Fref%3Ddp_ob_title_bk\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://www.amazon.co.jp/E6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA/dp/477419381X/ref=dp_ob_title_bk\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://www.amazon.co.jp/E6-96-B0-E3-83-BB-E6-A8-99-E6-BA-96-E3-83-97-E3-83-AD-E3-82-B0-E3-83-A9-E3-83-9E-E3-83-BC-E3-82-BA/dp/477419381X/ref=dp_ob_title_bk\u003c/a\u003e\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-08-22T11:47:14Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/70#issuecomment-1222243048","id":1222243048,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70","node_id":"IC_kwDOHWTPVs5I2fLo","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222243048/reactions"},"updated_at":"2022-08-22T11:47:14Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222243048","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"\u003cimg width=\"676\" alt=\"image\" src=\"https://user-images.githubusercontent.com/61409641/185914079-67dd3045-6287-4ef3-99f2-e70b12b4042f.png\"\u003e\r\n\r\n\u003e Cはなんでこんな言語ん「なっちゃった」のか。\r\n\r\n![image](https://user-images.githubusercontent.com/61409641/185914183-da1dba92-7883-4ccb-b9bc-66a37427bb3d.png)\r\n\r\n\u003e Cのポインタがわからないのは、あなたが悪いわけじゃなく、単に、Cの文法がクソなだけだよ!!\r\n前橋 和弥. 新・標準プログラマーズライブラリ C言語 ポインタ完全制覇 (Japanese Edition) (p.3). Kindle 版. \r\n\r\nのっけからめっちゃおもしろいな笑","bodyHTML":"\u003cp\u003e\u0026lt;img width=\u0026quot;676\u0026quot; alt=\u0026quot;image\u0026quot; src=\u0026quot;\u003ca href=\"https://user-images.githubusercontent.com/61409641/185914079-67dd3045-6287-4ef3-99f2-e70b12b4042f.png\" rel=\"nofollow\"\u003ehttps://user-images.githubusercontent.com/61409641/185914079-67dd3045-6287-4ef3-99f2-e70b12b4042f.png\u003c/a\u003e\u0026quot;\u0026gt;\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCはなんでこんな言語ん「なっちゃった」のか。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/61409641/185914183-da1dba92-7883-4ccb-b9bc-66a37427bb3d.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCのポインタがわからないのは、あなたが悪いわけじゃなく、単に、Cの文法がクソなだけだよ!!\u003cbr\u003e\n前橋 和弥. 新・標準プログラマーズライブラリ C言語 ポインタ完全制覇 (Japanese Edition) (p.3). Kindle 版.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eのっけからめっちゃおもしろいな笑\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-08-22T11:48:59Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/70#issuecomment-1222244902","id":1222244902,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70","node_id":"IC_kwDOHWTPVs5I2fom","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222244902/reactions"},"updated_at":"2022-08-22T11:48:59Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222244902","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"\u003e 「なぜポインタというものが必要なんだろう？」と思うかもしれません\n\nまさに知りたいことだ。今日軽く説明してもらった感じでは「ミニ四駆に穴を開けたくなる感覚かな？」とかいってたけどどうなんでしょう。\n\n## 0章\n\n本書のガイドライン。Cの解説書ではないので、基本的なところは他でやってという感じみたい。\n\nとりあえず動かせる方がよさそうなので、Playgroundを探してみたらあった。\n\nhttps://cplayground.com/\n\nどうも5章では汎用的なデータ構造としてのポインタについて解説してくれるらしい。LeetCodeも捗りそう。\n\n\u003e プログラミング言語なんてのは、しょせん人間が考えた文法で構成されていて、コンパイラというプログラムで完全に解釈しうる程\n度のものです。\n\u003e 「なんかみんなこう書いてるから、 同じように書きゃ動くだろ」\n\u003e では、やっぱりちょっと悲しいですよね。\n\nじーん。\n\nhttp://kmaebashi.com/seiha2/index.html\n\nサポートページ\n","bodyHTML":"\u003cblockquote\u003e\n\u003cp\u003e「なぜポインタというものが必要なんだろう？」と思うかもしれません\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eまさに知りたいことだ。今日軽く説明してもらった感じでは「ミニ四駆に穴を開けたくなる感覚かな？」とかいってたけどどうなんでしょう。\u003c/p\u003e\n\u003ch2 id=\"0%E7%AB%A0\"\u003e\u003ca class=\"header-anchor-link\" href=\"#0%E7%AB%A0\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 0章\u003c/h2\u003e\n\u003cp\u003e本書のガイドライン。Cの解説書ではないので、基本的なところは他でやってという感じみたい。\u003c/p\u003e\n\u003cp\u003eとりあえず動かせる方がよさそうなので、Playgroundを探してみたらあった。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fcplayground.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://cplayground.com/\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://cplayground.com/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eどうも5章では汎用的なデータ構造としてのポインタについて解説してくれるらしい。LeetCodeも捗りそう。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eプログラミング言語なんてのは、しょせん人間が考えた文法で構成されていて、コンパイラというプログラムで完全に解釈しうる程\u003cbr\u003e\n度のものです。\u003cbr\u003e\n「なんかみんなこう書いてるから、 同じように書きゃ動くだろ」\u003cbr\u003e\nでは、やっぱりちょっと悲しいですよね。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eじーん。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=http%3A%2F%2Fkmaebashi.com%2Fseiha2%2Findex.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"http://kmaebashi.com/seiha2/index.html\" style=\"display: none\" rel=\"nofollow\"\u003ehttp://kmaebashi.com/seiha2/index.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eサポートページ\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-08-22T12:05:26Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/70#issuecomment-1222262021","id":1222262021,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70","node_id":"IC_kwDOHWTPVs5I2j0F","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222262021/reactions"},"updated_at":"2022-08-22T12:05:26Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1222262021","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"## 1章\n\nCはもともとアセンブラの代替品だったそうな。ここら辺の経緯って全然知らんからこれだけでためになるな。\n\nC99が1999年に定められたCの規格で、C11が2011年に定められたCの規格。\n\n**Keep the spirit of C**\n\n・プログラマーを信じなさい (Trust the programmer.)\n・プログラマーが、 理由があって何かをしようとしているとき、それを妨げてはいけない (Don't prevent the programmer from doing what needs to be done.)\n・言語を小さく、シンプルに保とう (Keep the language small and simple.)\n・ある1つの操作のためには、たった1つの方法だけを提供しよう (Provide only one way to do an operation.)\n・たとえ移植性が保証されなくても、高速にしよう(Make it fast, even if it is not guaranteed to be portable.)\n\n\u003e Cは、プログラマーは全知全能であるという理念のもとに設計されています。\n\nなるほど、もともとアセンブラの代用としてUNIXのツヨツヨエンジニアが自分達のために作ったから、安全性とかはどうでもよくて、コンパイラを簡単に実装できるかと高速なコードを書けるかが売りなんだな。\n\n---\n\nアドレスはメモリの番地。変数を格納しているメモリ上の領域がオブジェクト、オブジェクトとして格納されるデータ型をオブジェクト型。\n\nポインタ型は他の型から派生することで存在する。これはGoのところの説明で読んだのと同じだと思う。\n\n---\n\n\u003e 「*hoge_p」と書くとなんだか 「*hoge_p」 という変数を宣言しているように見えてしまうかもしれません。 しかしここで宣言している変数はあくまで、 hoge_pであり、その型が「intへのポインタ」型なのです。\n\nそう、これがよくわかんないからこの本読んでいる感もある。\n\n```c\n// \u0026はアドレス演算子\n// %pでポインタの値を表示する\n// %pに対してはvoidへのポインタを指定することになってる\nprintf(\"\u0026hoge..%p\\n\", (void*)\u0026hoge);\n```\n\nアドレスがポインタ型の値そのもの。\n\n*は間接演算子。ポインタに*をつけることで、その指している先のものを表す。\n\nあ〜、ポインタがアドレスを指すという感覚を頭の中でスッとイメージできると読みやすい。\n\nとりあえずここまでは大丈夫そうだ！\n\n---\n\n- \u0026や*は単項演算子\n- これらは演算子の結果の式に代入することができる（演算子の結果の色が左辺値であるという）\n\n```c\nint *hoge_p;\n```\n\nこれは演算子ではない！！！えええ...。これは区切り子の一つなんだと。\n\n---\n\nコラムを読んでいる。\n\n```c\nint hoge // 型 変数名\nint *hoge_p // ポインタ型の宣言。\nint* hoge_p // ポインタ型の宣言を型 変数名になるようにしてみる形\nint* hoge_p, fuga_p 複数の型宣言で破綻する\n```\n\n\u003e なぜなら、Cの宣言の構文は、もうどうしようもないほど不自然で、 奇ッ怪で、変態的な構文なのですから。\n\n随所に出てくる筆者の主張が面白い笑\n\nここら辺の話、GoのブログのSyntaxについての記事にも同じような話があったような。\n\nhttps://go.dev/blog/declaration-syntax\n\n---\n\nポインタ演算すると、そのアドレスはそのポインタが指す型のサイズだけ増加する。\n\n---\n\n\u003e Cのポインタについて説明すると、「なぜポインタなどというものを使わなければいけないのかがわからない」 と言う人がいます。\n\n速度やハードウェア密着のプログラムを書かなくても、ポインタは必須。例として、関数から複数の値を返す、配列アクセス、LinkedListのようなデータ構造を表現するといったことが挙げられている。\n\nC言語では複数の値を返す場合、そのポインタを渡して、それを経由して値を書き込んでもらう（え？え？）\n\n\u003e Cでは、こういうことはポインタを使わない限り実現できません。\n\nCにおける関数呼び出しでは引数を値渡ししている。だから関数側に実引数として渡したものは「値」だけが渡されて、その変数自体（つまりはアドレス値）は渡されない。\n\nC++とかC#には参照渡しがあるけど、Cにはないので「ポインタを値渡し」する。\n\nhttps://magazine.rubyist.net/articles/0032/0032-CallByValueAndCallByReference.html\n\nこれはRubyの解説記事。\n\n---\n\nちょっと集中が切れたので、配列は今日の夜にしよう\n\n","bodyHTML":"\u003ch2 id=\"1%E7%AB%A0\"\u003e\u003ca class=\"header-anchor-link\" href=\"#1%E7%AB%A0\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 1章\u003c/h2\u003e\n\u003cp\u003eCはもともとアセンブラの代替品だったそうな。ここら辺の経緯って全然知らんからこれだけでためになるな。\u003c/p\u003e\n\u003cp\u003eC99が1999年に定められたCの規格で、C11が2011年に定められたCの規格。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eKeep the spirit of C\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e・プログラマーを信じなさい (Trust the programmer.)\u003cbr\u003e\n・プログラマーが、 理由があって何かをしようとしているとき、それを妨げてはいけない (Don't prevent the programmer from doing what needs to be done.)\u003cbr\u003e\n・言語を小さく、シンプルに保とう (Keep the language small and simple.)\u003cbr\u003e\n・ある1つの操作のためには、たった1つの方法だけを提供しよう (Provide only one way to do an operation.)\u003cbr\u003e\n・たとえ移植性が保証されなくても、高速にしよう(Make it fast, even if it is not guaranteed to be portable.)\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCは、プログラマーは全知全能であるという理念のもとに設計されています。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eなるほど、もともとアセンブラの代用としてUNIXのツヨツヨエンジニアが自分達のために作ったから、安全性とかはどうでもよくて、コンパイラを簡単に実装できるかと高速なコードを書けるかが売りなんだな。\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eアドレスはメモリの番地。変数を格納しているメモリ上の領域がオブジェクト、オブジェクトとして格納されるデータ型をオブジェクト型。\u003c/p\u003e\n\u003cp\u003eポインタ型は他の型から派生することで存在する。これはGoのところの説明で読んだのと同じだと思う。\u003c/p\u003e\n\u003chr\u003e\n\u003cblockquote\u003e\n\u003cp\u003e「*hoge_p」と書くとなんだか 「*hoge_p」 という変数を宣言しているように見えてしまうかもしれません。 しかしここで宣言している変数はあくまで、 hoge_pであり、その型が「intへのポインタ」型なのです。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eそう、これがよくわかんないからこの本読んでいる感もある。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-c\"\u003e\u003ccode class=\"language-c\"\u003e\u003cspan class=\"token comment\"\u003e// \u0026amp;はアドレス演算子\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// %pでポインタの値を表示する\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// %pに対してはvoidへのポインタを指定することになってる\u003c/span\u003e\n\u003cspan class=\"token function\"\u003eprintf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\u0026amp;hoge..%p\\n\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003ehoge\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eアドレスがポインタ型の値そのもの。\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eは間接演算子。ポインタに\u003c/em\u003eをつけることで、その指している先のものを表す。\u003c/p\u003e\n\u003cp\u003eあ〜、ポインタがアドレスを指すという感覚を頭の中でスッとイメージできると読みやすい。\u003c/p\u003e\n\u003cp\u003eとりあえずここまでは大丈夫そうだ！\u003c/p\u003e\n\u003chr\u003e\n\u003cul\u003e\n\u003cli\u003e\u0026amp;や*は単項演算子\u003c/li\u003e\n\u003cli\u003eこれらは演算子の結果の式に代入することができる（演算子の結果の色が左辺値であるという）\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-c\"\u003e\u003ccode class=\"language-c\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003ehoge_p\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eこれは演算子ではない！！！えええ...。これは区切り子の一つなんだと。\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eコラムを読んでいる。\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-c\"\u003e\u003ccode class=\"language-c\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e hoge \u003cspan class=\"token comment\"\u003e// 型 変数名\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003ehoge_p \u003cspan class=\"token comment\"\u003e// ポインタ型の宣言。\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e hoge_p \u003cspan class=\"token comment\"\u003e// ポインタ型の宣言を型 変数名になるようにしてみる形\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003e hoge_p\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e fuga_p 複数の型宣言で破綻する\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote\u003e\n\u003cp\u003eなぜなら、Cの宣言の構文は、もうどうしようもないほど不自然で、 奇ッ怪で、変態的な構文なのですから。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e随所に出てくる筆者の主張が面白い笑\u003c/p\u003e\n\u003cp\u003eここら辺の話、GoのブログのSyntaxについての記事にも同じような話があったような。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fgo.dev%2Fblog%2Fdeclaration-syntax\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://go.dev/blog/declaration-syntax\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://go.dev/blog/declaration-syntax\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eポインタ演算すると、そのアドレスはそのポインタが指す型のサイズだけ増加する。\u003c/p\u003e\n\u003chr\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCのポインタについて説明すると、「なぜポインタなどというものを使わなければいけないのかがわからない」 と言う人がいます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e速度やハードウェア密着のプログラムを書かなくても、ポインタは必須。例として、関数から複数の値を返す、配列アクセス、LinkedListのようなデータ構造を表現するといったことが挙げられている。\u003c/p\u003e\n\u003cp\u003eC言語では複数の値を返す場合、そのポインタを渡して、それを経由して値を書き込んでもらう（え？え？）\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCでは、こういうことはポインタを使わない限り実現できません。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eCにおける関数呼び出しでは引数を値渡ししている。だから関数側に実引数として渡したものは「値」だけが渡されて、その変数自体（つまりはアドレス値）は渡されない。\u003c/p\u003e\n\u003cp\u003eC++とかC#には参照渡しがあるけど、Cにはないので「ポインタを値渡し」する。\u003c/p\u003e\n\u003cp\u003e\u003cdiv class=\"embed-zenn-link\"\u003e\u003ciframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fmagazine.rubyist.net%2Farticles%2F0032%2F0032-CallByValueAndCallByReference.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ca href=\"https://magazine.rubyist.net/articles/0032/0032-CallByValueAndCallByReference.html\" style=\"display: none\" rel=\"nofollow\"\u003ehttps://magazine.rubyist.net/articles/0032/0032-CallByValueAndCallByReference.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eこれはRubyの解説記事。\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eちょっと集中が切れたので、配列は今日の夜にしよう\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-08-22T22:46:35Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/70#issuecomment-1223282591","id":1223282591,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/70","node_id":"IC_kwDOHWTPVs5I6c-f","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1223282591/reactions"},"updated_at":"2022-08-22T22:46:35Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1223282591","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"70"},"buildId":"mA4vYlTO00MVrCClLpn5p","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>