<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-06-21</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/2558a86413c1d318.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/2558a86413c1d318.css" data-n-g=""/><link rel="preload" href="/diary/_next/static/css/fc9624fd4a486ef2.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/fc9624fd4a486ef2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-11cdd4282e319539.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-5b4d6b2692b4593b.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-4584e21e841751ac.js" defer=""></script><script src="/diary/_next/static/NBT4X1_8HKUViV-985hz9/_buildManifest.js" defer=""></script><script src="/diary/_next/static/NBT4X1_8HKUViV-985hz9/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/NBT4X1_8HKUViV-985hz9/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>window.twttr=(function(f,b,g){var e,c=f.getElementsByTagName(b)[0],a=window.twttr||{};if(f.getElementById(g)){return a}e=f.createElement(b);e.id=g;e.src="https://platform.twitter.com/widgets.js";c.parentNode.insertBefore(e,c);a._e=[];a.ready=function(d){a._e.push(d)};return a}(document,"script","twitter-wjs"));</script><div class="min-h-screen flex flex-col"><header class="relative bg-gradient-to-r from-blue-700 via-blue-800 to-gray-900 md:mb-8"><div class="max-w-6xl mx-auto px-5"><nav class="py-12 md:mb-20 flex items-center justify-between md:px-12 px-2"><div><h1 class="text-white"><a class="text-2xl md:text-3xl tracking-wide font-bold" href="/diary">ikuma-t/diary</a></h1><p class="mt-4 text-sm text-slate-300">ikuma-tの作業ログです。</p></div><div><a class="text-white text-sm" href="https://github.com/IkumaTadokoro/diary/issues">Show on GitHub</a></div></nav></div><svg class="absolute w-full h-20 md:h-full top-32 left-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none"><path d="M0 32L24 37.3C48 43 96 53 144 74.7C192 96 240 128 288 122.7C336 117 384 75 432 80C480 85 528 139 576 133.3C624 128 672 64 720 53.3C768 43 816 85 864 90.7C912 96 960 64 1008 48C1056 32 1104 32 1152 58.7C1200 85 1248 139 1296 133.3C1344 128 1392 64 1416 32L1440 0V171H1416C1392 171 1344 171 1296 171C1248 171 1200 171 1152 171C1104 171 1056 171 1008 171C960 171 912 171 864 171C816 171 768 171 720 171C672 171 624 171 576 171C528 171 480 171 432 171C384 171 336 171 288 171C240 171 192 171 144 171C96 171 48 171 24 171H0V32Z" fill="white"></path></svg></header><main class="z-10 flex-1 py-8"><div class="max-w-2xl mx-auto"><article class="znc markdown"><section class="block py-6 md:px-12 px-8 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-21T10:35:11Z" title="2022-06-21T10:35:11Z">2022-06-21 10:06:00</time><h1 class="font-bold text-slate-600">2022-06-21</h1></header><aside><p class="text-sm text-slate-400">Posted by <!-- --> at <!-- --><a href="https://github.com/IkumaTadokoro/diary/issues/39">#39</a>.<!-- --></p></aside><div></div></section><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-21T12:20:41Z" title="2022-06-21T12:20:41Z">2022-06-21 12:06:00</time></header><div><p>プロタイ 7章</p>
<h2 id="7.2-%E4%BE%8B%E5%A4%96%E3%82%92%E3%82%B9%E3%83%AD%E3%83%BC%E3%81%99%E3%82%8B"><a class="header-anchor-link" href="#7.2-%E4%BE%8B%E5%A4%96%E3%82%92%E3%82%B9%E3%83%AD%E3%83%BC%E3%81%99%E3%82%8B" aria-hidden="true" rel="nofollow"></a> 7.2 例外をスローする</h2>
<ul>
<li>カスタムエラークラスを実装することで「なぜ」失敗したのかを示すことができる</li>
<li>自分の実装範囲外の関数でどんなエラーが発生するかを自分で見にいく必要がある。</li>
</ul>
<h2 id="7.3-%E4%BE%8B%E5%A4%96%E3%82%92%E8%BF%94%E3%81%99"><a class="header-anchor-link" href="#7.3-%E4%BE%8B%E5%A4%96%E3%82%92%E8%BF%94%E3%81%99" aria-hidden="true" rel="nofollow"></a> 7.3 例外を返す</h2>
<ul>
<li>戻り値に例外クラスをUnion型として定義することで、利用者は発生しうるすべての例外を処理する必要がある。</li>
<li>Unionが増えれば増えるほど、分岐も冗長になる。</li>
<li>あれ、このサンプル合ってるのかな？Errorでぜんぶ捕捉できるの？</li>
</ul>
</div></section></article><article class="mt-4"><section class="block py-6 px-8 md:px-12 bg-white md:rounded-lg border border-gray-200 shadow-md"><header><time class="text-xs text-gray-300 truncate" dateTime="2022-06-21T13:28:05Z" title="2022-06-21T13:28:05Z">2022-06-21 13:06:00</time></header><div><h2 id="v-model%E3%81%AE%E4%BF%AE%E9%A3%BE%E5%AD%90"><a class="header-anchor-link" href="#v-model%E3%81%AE%E4%BF%AE%E9%A3%BE%E5%AD%90" aria-hidden="true" rel="nofollow"></a> v-modelの修飾子</h2>
<h3 id="vue2%E7%B3%BB"><a class="header-anchor-link" href="#vue2%E7%B3%BB" aria-hidden="true" rel="nofollow"></a> Vue2系</h3>
<p>以下の3種類がある。</p>
<ul>
<li><code>.trim</code>：入力から空白を取り除く</li>
<li><code>.number</code>：入力をnumberへ型キャストする。</li>
<li><code>.lazy</code>：<code>input</code>イベントではなく、<code>change</code>イベントでイベントを発火する</li>
</ul>
<h3 id="vue3%E7%B3%BB"><a class="header-anchor-link" href="#vue3%E7%B3%BB" aria-hidden="true" rel="nofollow"></a> Vue3系</h3>
<h4 id="%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E4%BF%AE%E9%A3%BE%E5%AD%90"><a class="header-anchor-link" href="#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E4%BF%AE%E9%A3%BE%E5%AD%90" aria-hidden="true" rel="nofollow"></a> カスタム修飾子</h4>
<p>上記に加えて、カスタム修飾子が定義できるようになった。</p>
<p>親コンポーネント</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> MyVModelModifier <span class="token keyword">from</span> <span class="token string">'./components/MyVModelModifier.vue'</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyVModelModifier</span> <span class="token attr-name">v-model.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyVModelModifier</span><span class="token punctuation">></span></span>
  {{ text }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre></div><p>子コンポーネント</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modelValue<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emitValue<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modelValue</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token literal-property property">modelModifiers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'update:modelValue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">emitValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
  <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelModifiers<span class="token punctuation">.</span>capitalize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre></div><p><code>v-model.modifier</code>の形式で記述すると、<code>modelModifiers</code>というpropが使用できるようになる。例えば<code>capitalize</code>をmodifierの位置にしているすると</p>
<div class="code-block-container"><pre class="language-html"><code class="language-html">modelModifiers = {
  capitalize: true
}
</code></pre></div><p>という値が設定される。Vue側で提供するのはこのフラグ的な機能のみで、これを利用して実際にv-modelに紐づいたイベントで期待した処理を実装する。</p>
</div></section></article></article></div></main><footer class="font-bold border-t-2 border-slate-100"><div class="max-w-6xl mx-auto px-5"><nav class="py-12"><ul class="flex justify-around text-white"><li><a href="/diary">Home</a></li><li><a href="https://ikuma-t.work">Blog</a></li></ul></nav></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39/comments","created_at":"2022-06-21T10:35:11Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/39","id":1278244782,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5MMHeu","number":39,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39/timeline","title":"2022-06-21","updated_at":"2022-06-21T10:35:11Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"プロタイ 7章\n\n## 7.2 例外をスローする\n\n- カスタムエラークラスを実装することで「なぜ」失敗したのかを示すことができる\n- 自分の実装範囲外の関数でどんなエラーが発生するかを自分で見にいく必要がある。\n\n## 7.3 例外を返す\n\n- 戻り値に例外クラスをUnion型として定義することで、利用者は発生しうるすべての例外を処理する必要がある。\n- Unionが増えれば増えるほど、分岐も冗長になる。\n- あれ、このサンプル合ってるのかな？Errorでぜんぶ捕捉できるの？\n","bodyHTML":"\u003cp\u003eプロタイ 7章\u003c/p\u003e\n\u003ch2 id=\"7.2-%E4%BE%8B%E5%A4%96%E3%82%92%E3%82%B9%E3%83%AD%E3%83%BC%E3%81%99%E3%82%8B\"\u003e\u003ca class=\"header-anchor-link\" href=\"#7.2-%E4%BE%8B%E5%A4%96%E3%82%92%E3%82%B9%E3%83%AD%E3%83%BC%E3%81%99%E3%82%8B\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 7.2 例外をスローする\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eカスタムエラークラスを実装することで「なぜ」失敗したのかを示すことができる\u003c/li\u003e\n\u003cli\u003e自分の実装範囲外の関数でどんなエラーが発生するかを自分で見にいく必要がある。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"7.3-%E4%BE%8B%E5%A4%96%E3%82%92%E8%BF%94%E3%81%99\"\u003e\u003ca class=\"header-anchor-link\" href=\"#7.3-%E4%BE%8B%E5%A4%96%E3%82%92%E8%BF%94%E3%81%99\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e 7.3 例外を返す\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e戻り値に例外クラスをUnion型として定義することで、利用者は発生しうるすべての例外を処理する必要がある。\u003c/li\u003e\n\u003cli\u003eUnionが増えれば増えるほど、分岐も冗長になる。\u003c/li\u003e\n\u003cli\u003eあれ、このサンプル合ってるのかな？Errorでぜんぶ捕捉できるの？\u003c/li\u003e\n\u003c/ul\u003e\n","author_association":"OWNER","created_at":"2022-06-21T12:20:41Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/39#issuecomment-1161674460","id":1161674460,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39","node_id":"IC_kwDOHWTPVs5FPb7c","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1161674460/reactions"},"updated_at":"2022-06-21T12:20:41Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1161674460","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"## v-modelの修飾子\n\n### Vue2系\n\n以下の3種類がある。\n\n- `.trim`：入力から空白を取り除く\n- `.number`：入力をnumberへ型キャストする。\n- `.lazy`：`input`イベントではなく、`change`イベントでイベントを発火する\n\n### Vue3系\n\n#### カスタム修飾子\n\n上記に加えて、カスタム修飾子が定義できるようになった。\n\n親コンポーネント\n\n```vue\n\u003cscript setup lang=\"ts\"\u003e\nimport { ref } from 'vue'\nimport MyVModelModifier from './components/MyVModelModifier.vue'\nconst text = ref('')\n\u003c/script\u003e\n\n\u003ctemplate\u003e\n  \u003cMyVModelModifier v-model.capitalize=\"text\"\u003e\u003c/MyVModelModifier\u003e\n  {{ text }}\n\u003c/template\u003e\n```\n\n子コンポーネント\n\n```vue\n\u003ctemplate\u003e\n  \u003cinput type=\"text\" :value=\"modelValue\" @input=\"emitValue\" /\u003e\n\u003c/template\u003e\n\n\u003cscript setup\u003e\nconst props = defineProps({\n  modelValue: String,\n  modelModifiers: { default: () =\u003e ({}) }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst emitValue = (e) =\u003e {\n  let value = e.target.value\n  if (props.modelModifiers.capitalize) {\n    value = value.charAt(0).toUpperCase() + value.slice(1)\n  }\n  emit('update:modelValue', value)\n}\n\u003c/script\u003e\n```\n\n`v-model.modifier`の形式で記述すると、`modelModifiers`というpropが使用できるようになる。例えば`capitalize`をmodifierの位置にしているすると\n\n```vue\nmodelModifiers = {\n  capitalize: true\n}\n```\n\nという値が設定される。Vue側で提供するのはこのフラグ的な機能のみで、これを利用して実際にv-modelに紐づいたイベントで期待した処理を実装する。\n","bodyHTML":"\u003ch2 id=\"v-model%E3%81%AE%E4%BF%AE%E9%A3%BE%E5%AD%90\"\u003e\u003ca class=\"header-anchor-link\" href=\"#v-model%E3%81%AE%E4%BF%AE%E9%A3%BE%E5%AD%90\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e v-modelの修飾子\u003c/h2\u003e\n\u003ch3 id=\"vue2%E7%B3%BB\"\u003e\u003ca class=\"header-anchor-link\" href=\"#vue2%E7%B3%BB\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e Vue2系\u003c/h3\u003e\n\u003cp\u003e以下の3種類がある。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e.trim\u003c/code\u003e：入力から空白を取り除く\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e.number\u003c/code\u003e：入力をnumberへ型キャストする。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e.lazy\u003c/code\u003e：\u003ccode\u003einput\u003c/code\u003eイベントではなく、\u003ccode\u003echange\u003c/code\u003eイベントでイベントを発火する\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"vue3%E7%B3%BB\"\u003e\u003ca class=\"header-anchor-link\" href=\"#vue3%E7%B3%BB\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e Vue3系\u003c/h3\u003e\n\u003ch4 id=\"%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E4%BF%AE%E9%A3%BE%E5%AD%90\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E4%BF%AE%E9%A3%BE%E5%AD%90\" aria-hidden=\"true\" rel=\"nofollow\"\u003e\u003c/a\u003e カスタム修飾子\u003c/h4\u003e\n\u003cp\u003e上記に加えて、カスタム修飾子が定義できるようになった。\u003c/p\u003e\n\u003cp\u003e親コンポーネント\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003escript\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esetup\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003elang\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ets\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token script\"\u003e\u003cspan class=\"token language-javascript\"\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e ref \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'vue'\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e MyVModelModifier \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./components/MyVModelModifier.vue'\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e text \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eref\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003eMyVModelModifier\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ev-model.capitalize\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003etext\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003eMyVModelModifier\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  {{ text }}\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e子コンポーネント\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003einput\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003etext\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e:value\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003emodelValue\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e@input\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eemitValue\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003etemplate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;\u003c/span\u003escript\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esetup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token script\"\u003e\u003cspan class=\"token language-javascript\"\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e props \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edefineProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003emodelValue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e String\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003emodelModifiers\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edefault\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e emit \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edefineEmits\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'update:modelValue'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003eemitValue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ee\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e value \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etarget\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003evalue\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eprops\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003emodelModifiers\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecapitalize\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    value \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e value\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003echarAt\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etoUpperCase\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e value\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eslice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003eemit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'update:modelValue'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e value\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026lt;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003ev-model.modifier\u003c/code\u003eの形式で記述すると、\u003ccode\u003emodelModifiers\u003c/code\u003eというpropが使用できるようになる。例えば\u003ccode\u003ecapitalize\u003c/code\u003eをmodifierの位置にしているすると\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003emodelModifiers = {\n  capitalize: true\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eという値が設定される。Vue側で提供するのはこのフラグ的な機能のみで、これを利用して実際にv-modelに紐づいたイベントで期待した処理を実装する。\u003c/p\u003e\n","author_association":"OWNER","created_at":"2022-06-21T13:28:05Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/39#issuecomment-1161749531","id":1161749531,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/39","node_id":"IC_kwDOHWTPVs5FPuQb","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1161749531/reactions"},"updated_at":"2022-06-21T13:28:05Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1161749531","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"39"},"buildId":"NBT4X1_8HKUViV-985hz9","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>