{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13/comments","created_at":"2022-05-27T10:18:25Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/13","id":1250596863,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5Kipf_","number":13,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13/timeline","title":"2022-05-27","updated_at":"2022-05-27T10:18:25Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"Next.jsでブログを作っていく\n","bodyHTML":"<p>Next.jsでブログを作っていく</p>","author_association":"OWNER","created_at":"2022-05-27T10:18:39Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/13#issuecomment-1139483352","id":1139483352,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13","node_id":"IC_kwDOHWTPVs5D6yLY","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1139483352/reactions"},"updated_at":"2022-05-27T10:18:39Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1139483352","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"[next\\.js/examples/blog\\-starter\\-typescript at canary · vercel/next\\.js](https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript)は、`remark`と`remark-html`を利用して、MarkdownをHTMLに変換している。\n\n### remark\n\n- [remarkjs/remark: remark is a popular tool that transforms markdown with plugins\\. These plugins can inspect and change your markup\\. You can use remark on the server, the client, CLIs, deno, etc\\.](https://github.com/remarkjs/remark)\n- [sergioramos/remark\\-prism: Syntax highlighter for markdown code blocks using Prism](https://github.com/sergioramos/remark-prism)\n- [Next\\.js のための Remark / Rehype 入門 \\- Qiita](https://qiita.com/sankentou/items/f8eadb5722f3b39bbbf8)\n\n- MarkdownをASTに変換し（Parse：Markdown→mdast）、MarkdownのASTをHTMLのASTに変換し（Transform：mdast→hast）、HTMLのASTをHTMLに変換する（Stringify：hast→HTML）\n- mdastの部分をremark、mhastの部分をrehypeがそれぞれになっている。\n- Next.jsテンプレでは上記のParseを担うのがremark、TransformからStrringifyを担うのがremark-htmlとなっている。\n\n### やってみる\n\n```bash\nyarn add remark-prism @types/remark-prism\n```\n\n```typescript:markdownToHtml.ts\nimport { remark } from 'remark'\nimport html from 'remark-html'\nimport prism from 'remark-prism'\n\nexport default async function markdownToHtml(markdown: string) {\n  const result = await remark().use(html).use(prism).process(markdown)\n  return result.toString()\n}\n```\n\nデザインが入らないのはCSSを設定していないからなのでいいとして、タグが適用されていないのはどうしてだろう。\n[sergioramos/remark\\-prism: Syntax highlighter for markdown code blocks using Prism](https://github.com/sergioramos/remark-prism)をみる限りでは、各タグに対してクラスが適用されるようになっている。\n\n[Not compatible with remark\\-html v13\\.0\\.2 and above · Issue \\#265 · sergioramos/remark\\-prism](https://github.com/sergioramos/remark-prism/issues/265)\n→どうもこれが原因みたいで、remark-htmlの挙動が変わってからhtmlへの変換時に`{ sanitize: false }`を指定しないといけないみたい。\n\n最後にテーマを[prism\\-themes/themes at master · PrismJS/prism\\-themes](https://github.com/PrismJS/prism-themes/tree/master/themes)から選んで、`_app.tsx`でロードする。\n\n```ts\nimport 'prismjs/themes/prism-tomorrow.css'\n```\n\nこれでシンタックスハイライトは完成\n\n","bodyHTML":"<p><a href=\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter-typescript\">next.js/examples/blog-starter-typescript at canary · vercel/next.js</a>は、<code>remark</code>と<code>remark-html</code>を利用して、MarkdownをHTMLに変換している。</p>\n<h3>remark</h3>\n<ul>\n<li>\n<p><a href=\"https://github.com/remarkjs/remark\">remarkjs/remark: remark is a popular tool that transforms markdown with plugins. These plugins can inspect and change your markup. You can use remark on the server, the client, CLIs, deno, etc.</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/sergioramos/remark-prism\">sergioramos/remark-prism: Syntax highlighter for markdown code blocks using Prism</a></p>\n</li>\n<li>\n<p><a href=\"https://qiita.com/sankentou/items/f8eadb5722f3b39bbbf8\">Next.js のための Remark / Rehype 入門 - Qiita</a></p>\n</li>\n<li>\n<p>MarkdownをASTに変換し（Parse：Markdown→mdast）、MarkdownのASTをHTMLのASTに変換し（Transform：mdast→hast）、HTMLのASTをHTMLに変換する（Stringify：hast→HTML）</p>\n</li>\n<li>\n<p>mdastの部分をremark、mhastの部分をrehypeがそれぞれになっている。</p>\n</li>\n<li>\n<p>Next.jsテンプレでは上記のParseを担うのがremark、TransformからStrringifyを担うのがremark-htmlとなっている。</p>\n</li>\n</ul>\n<h3>やってみる</h3>\n<pre><code class=\"language-bash\">yarn add remark-prism @types/remark-prism\n</code></pre>\n<pre><code class=\"language-typescript:markdownToHtml.ts\">import { remark } from 'remark'\nimport html from 'remark-html'\nimport prism from 'remark-prism'\n\nexport default async function markdownToHtml(markdown: string) {\n  const result = await remark().use(html).use(prism).process(markdown)\n  return result.toString()\n}\n</code></pre>\n<p>デザインが入らないのはCSSを設定していないからなのでいいとして、タグが適用されていないのはどうしてだろう。\n<a href=\"https://github.com/sergioramos/remark-prism\">sergioramos/remark-prism: Syntax highlighter for markdown code blocks using Prism</a>をみる限りでは、各タグに対してクラスが適用されるようになっている。</p>\n<p><a href=\"https://github.com/sergioramos/remark-prism/issues/265\">Not compatible with remark-html v13.0.2 and above · Issue #265 · sergioramos/remark-prism</a>\n→どうもこれが原因みたいで、remark-htmlの挙動が変わってからhtmlへの変換時に<code>{ sanitize: false }</code>を指定しないといけないみたい。</p>\n<p>最後にテーマを<a href=\"https://github.com/PrismJS/prism-themes/tree/master/themes\">prism-themes/themes at master · PrismJS/prism-themes</a>から選んで、<code>_app.tsx</code>でロードする。</p>\n<pre><code class=\"language-ts\">import 'prismjs/themes/prism-tomorrow.css'\n</code></pre>\n<p>これでシンタックスハイライトは完成</p>","author_association":"OWNER","created_at":"2022-05-27T11:42:52Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/13#issuecomment-1139541200","id":1139541200,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/13","node_id":"IC_kwDOHWTPVs5D7ATQ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1139541200/reactions"},"updated_at":"2022-05-27T11:42:52Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1139541200","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true}