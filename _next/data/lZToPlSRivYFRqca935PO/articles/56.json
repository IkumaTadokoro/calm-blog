{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/comments","created_at":"2022-07-14T11:13:32Z","events_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/events","html_url":"https://github.com/IkumaTadokoro/diary/issues/56","id":1304634744,"labels":[],"labels_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHWTPVs5NwyV4","number":56,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/reactions"},"repository_url":"https://api.github.com/repos/IkumaTadokoro/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56/timeline","title":"2022-07-14","updated_at":"2022-07-14T11:13:32Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},"issueComments":[{"body":"短くても良いから進捗を出すのだ\n","bodyHTML":"<p>短くても良いから進捗を出すのだ</p>\n","author_association":"OWNER","created_at":"2022-07-14T11:13:45Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184318673","id":1184318673,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5Gl0TR","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184318673/reactions"},"updated_at":"2022-07-14T11:13:45Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184318673","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"Selenium実践入門を読んでいる\n\nChromeを動かすには\n\n- Chrome\n- WebDriverのクライアントライブラリ\n- ChromeDriverサーバ: https://chromedriver.storage.googleapis.com/index.html\n\n```bash\nlib/selenium/webdriver/common/service.rb:104:in `binary_path': Unable to find chromedriver. Please download the server from (Selenium::WebDriver::Error::WebDriverError)\n```\n\nなんでこうなるんだろう？\n\n```bash\nbrew install chromedriver\n```\n\nhomebrewでやったらやっと動いたよ。なんだったんだよ\n","bodyHTML":"<p>Selenium実践入門を読んでいる</p>\n<p>Chromeを動かすには</p>\n<ul>\n<li>Chrome</li>\n<li>WebDriverのクライアントライブラリ</li>\n<li>ChromeDriverサーバ: <a href=\"https://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow\">https://chromedriver.storage.googleapis.com/index.html</a></li>\n</ul>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash\">lib/selenium/webdriver/common/service.rb:104:in `binary_path': Unable to <span class=\"token function\">find</span> chromedriver. Please download the server from <span class=\"token punctuation\">(</span>Selenium::WebDriver::Error::WebDriverError<span class=\"token punctuation\">)</span>\n</code></pre></div><p>なんでこうなるんだろう？</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> chromedriver\n</code></pre></div><p>homebrewでやったらやっと動いたよ。なんだったんだよ</p>\n","author_association":"OWNER","created_at":"2022-07-14T11:57:21Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184359313","id":1184359313,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5Gl-OR","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184359313/reactions"},"updated_at":"2022-07-14T11:57:21Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184359313","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}},{"body":"https://vividcode.hatenablog.com/entry/web-driver-introduction-2017\n\nW3CとSeleniumにおけるWebDriverの差異をまとめている。2017なので、現状は調べる必要あり\n\n---\n\n```bash\n# POST\nhttp://localhost:9515/session\n```\n\nレスポンス\n\n```json\n{\n    \"value\": {\n        \"error\": \"invalid argument\",\n        \"message\": \"invalid argument: missing command parameters\",\n        \"stacktrace\": \"0   chromedriver                        0x0000000108990079 chromedriver + 4444281\\n1   chromedriver                        0x000000010891c403 chromedriver + 3970051\\n2   chromedriver                        0x00000001085b7038 chromedriver + 409656\\n3   chromedriver                        0x0000000108608253 chromedriver + 741971\\n4   chromedriver                        0x0000000108607d57 chromedriver + 740695\\n5   chromedriver                        0x0000000108590c9a chromedriver + 253082\\n6   chromedriver                        0x000000010896155d chromedriver + 4253021\\n7   chromedriver                        0x00000001089663a1 chromedriver + 4273057\\n8   chromedriver                        0x000000010896b16f chromedriver + 4292975\\n9   chromedriver                        0x0000000108966dea chromedriver + 4275690\\n10  chromedriver                        0x000000010894054f chromedriver + 4117839\\n11  chromedriver                        0x000000010858fd5e chromedriver + 249182\\n12  dyld                                0x000000010adc651e start + 462\\n\"\n    }\n}\n```\n\nhttps://github.com/jlipps/simple-wd-spec#new-session\n\ncapabilityってのが必要っぽい。これはローカルエンドとリモートエンドが何を期待しているのかを指定するためのJSONオブジェクトっぽいな\n\n```\n{\n    \"capabilities\": {\n        \"browserName\": \"chrome\"\n    }\n}\n```\n\nこれでセッションが立ち上がった。\n\n```json\n{\n    \"value\": {\n        \"capabilities\": {\n            \"acceptInsecureCerts\": false,\n            \"browserName\": \"chrome\",\n            \"browserVersion\": \"103.0.5060.114\",\n            \"chrome\": {\n                \"chromedriverVersion\": \"103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853})\",\n                \"userDataDir\": \"/var/folders/x1/sdwlm8p942b82_ct0x9fn8kc0000gn/T/.com.google.Chrome.a0bxmz\"\n            },\n            \"goog:chromeOptions\": {\n                \"debuggerAddress\": \"localhost:54025\"\n            },\n            \"networkConnectionEnabled\": false,\n            \"pageLoadStrategy\": \"normal\",\n            \"platformName\": \"mac os x\",\n            \"proxy\": {},\n            \"setWindowRect\": true,\n            \"strictFileInteractability\": false,\n            \"timeouts\": {\n                \"implicit\": 0,\n                \"pageLoad\": 300000,\n                \"script\": 30000\n            },\n            \"unhandledPromptBehavior\": \"dismiss and notify\",\n            \"webauthn:extension:credBlob\": true,\n            \"webauthn:extension:largeBlob\": true,\n            \"webauthn:virtualAuthenticators\": true\n        },\n        \"sessionId\": \"75f8bf0e75bb087285ace047e060cc21\"\n    }\n}\n```\n\n一番最後をみると、sessionIdが追加されている。このIDを利用して次のアクセスを発行していく。\n","bodyHTML":"<p><div class=\"embed-zenn-link\"><iframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fvividcode.hatenablog.com%2Fentry%2Fweb-driver-introduction-2017\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></div><a href=\"https://vividcode.hatenablog.com/entry/web-driver-introduction-2017\" style=\"display: none\" rel=\"nofollow\">https://vividcode.hatenablog.com/entry/web-driver-introduction-2017</a></p>\n<p>W3CとSeleniumにおけるWebDriverの差異をまとめている。2017なので、現状は調べる必要あり</p>\n<hr>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># POST</span>\nhttp://localhost:9515/session\n</code></pre></div><p>レスポンス</p>\n<div class=\"code-block-container\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"error\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"invalid argument\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"invalid argument: missing command parameters\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"stacktrace\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0   chromedriver                        0x0000000108990079 chromedriver + 4444281\\n1   chromedriver                        0x000000010891c403 chromedriver + 3970051\\n2   chromedriver                        0x00000001085b7038 chromedriver + 409656\\n3   chromedriver                        0x0000000108608253 chromedriver + 741971\\n4   chromedriver                        0x0000000108607d57 chromedriver + 740695\\n5   chromedriver                        0x0000000108590c9a chromedriver + 253082\\n6   chromedriver                        0x000000010896155d chromedriver + 4253021\\n7   chromedriver                        0x00000001089663a1 chromedriver + 4273057\\n8   chromedriver                        0x000000010896b16f chromedriver + 4292975\\n9   chromedriver                        0x0000000108966dea chromedriver + 4275690\\n10  chromedriver                        0x000000010894054f chromedriver + 4117839\\n11  chromedriver                        0x000000010858fd5e chromedriver + 249182\\n12  dyld                                0x000000010adc651e start + 462\\n\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><p><div class=\"embed-zenn-link\"><iframe src=\"https://card.zenn.dev/?url=https%3A%2F%2Fgithub.com%2Fjlipps%2Fsimple-wd-spec%23new-session\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></div><a href=\"https://github.com/jlipps/simple-wd-spec#new-session\" style=\"display: none\" rel=\"nofollow\">https://github.com/jlipps/simple-wd-spec#new-session</a></p>\n<p>capabilityってのが必要っぽい。これはローカルエンドとリモートエンドが何を期待しているのかを指定するためのJSONオブジェクトっぽいな</p>\n<div class=\"code-block-container\"><pre class=\"\"><code class=\"\">{\n    &quot;capabilities&quot;: {\n        &quot;browserName&quot;: &quot;chrome&quot;\n    }\n}\n</code></pre></div><p>これでセッションが立ち上がった。</p>\n<div class=\"code-block-container\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"acceptInsecureCerts\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"chrome\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"browserVersion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"103.0.5060.114\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"chrome\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"chromedriverVersion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853})\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"userDataDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/var/folders/x1/sdwlm8p942b82_ct0x9fn8kc0000gn/T/.com.google.Chrome.a0bxmz\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"goog:chromeOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"debuggerAddress\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"localhost:54025\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"networkConnectionEnabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"pageLoadStrategy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"normal\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mac os x\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"proxy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"setWindowRect\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"strictFileInteractability\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"timeouts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"implicit\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"pageLoad\"</span><span class=\"token operator\">:</span> <span class=\"token number\">300000</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"script\"</span><span class=\"token operator\">:</span> <span class=\"token number\">30000</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"unhandledPromptBehavior\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dismiss and notify\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"webauthn:extension:credBlob\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"webauthn:extension:largeBlob\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"webauthn:virtualAuthenticators\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"sessionId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"75f8bf0e75bb087285ace047e060cc21\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><p>一番最後をみると、sessionIdが追加されている。このIDを利用して次のアクセスを発行していく。</p>\n","author_association":"OWNER","created_at":"2022-07-14T13:15:29Z","html_url":"https://github.com/IkumaTadokoro/diary/issues/56#issuecomment-1184435578","id":1184435578,"issue_url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/56","node_id":"IC_kwDOHWTPVs5GmQ16","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184435578/reactions"},"updated_at":"2022-07-14T13:15:29Z","url":"https://api.github.com/repos/IkumaTadokoro/diary/issues/comments/1184435578","user":{"avatar_url":"https://avatars.githubusercontent.com/u/61409641?v=4","events_url":"https://api.github.com/users/IkumaTadokoro/events{/privacy}","followers_url":"https://api.github.com/users/IkumaTadokoro/followers","following_url":"https://api.github.com/users/IkumaTadokoro/following{/other_user}","gists_url":"https://api.github.com/users/IkumaTadokoro/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/IkumaTadokoro","id":61409641,"login":"IkumaTadokoro","node_id":"MDQ6VXNlcjYxNDA5NjQx","organizations_url":"https://api.github.com/users/IkumaTadokoro/orgs","received_events_url":"https://api.github.com/users/IkumaTadokoro/received_events","repos_url":"https://api.github.com/users/IkumaTadokoro/repos","site_admin":false,"starred_url":"https://api.github.com/users/IkumaTadokoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IkumaTadokoro/subscriptions","type":"User","url":"https://api.github.com/users/IkumaTadokoro"}}]},"__N_SSG":true}